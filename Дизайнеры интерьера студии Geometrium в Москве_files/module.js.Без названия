if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(ct,M,bO){var F=function(){var e=ct.maCookiePrefix;return typeof e==="string"?e:"roistat"};var aa=F();var bJ=function(){return ct[aa+"Host"]};var bA=false,ab="302",B=13,c3=42,x=bJ(),aO="0.2",ao="1.0",da="roistat_visit_cookie_expire",cj="roistat_visit",aU="roistat_cookies_to_resave",cb="roistat_guid",aZ="roistat_next_guid",a5="roistat_first_visit",au="roistat_is_need_listen_requests",bm="roistat_is_save_data_in_cookie",dF="roistat_phone",E="roistat_externalCountersEnabled",aN="roistat_referrer",dd="roistat_marker",bn="roistat_marker_old",bH="roistat_ab",ak="roistat_previous_ab",V="roistat_ab_submit",bQ=35*24*60*60,cQ="rs",N="roistat",ah="leadhunter_expire",T=5*60*60,bP="roistat_leadHunterEnabled",s="roistat_leadHunterTargetPagesMap",cI="roistat_leadHunterCallbackSettings",a3="roistat_leadHunterScriptId",ac="roistat_isleadHunterScriptIdActive",bk="roistat_multiwidgetEnabled",ca="roistat_multiwidgetVKEnabled",c0="roistat_multiwidgetVKLink",U="roistat_multiwidgetFBEnabled",dj="roistat_multiwidgetFBLink",cL="roistat_multiwidgetTelegramEnabled",by="roistat_multiwidgetTelegramLink",cW="roistat_multiwidgetWhatsAppEnabled",bN="roistat_multiwidgetWhatsAppLink",dN="roistat_multiwidgetViberEnabled",cO="roistat_multiwidgetViberLink",cX="roistat_onlineChatEnabled",C="roistat_onlineChatSettings",d=7*24*60*60,c5={expires:d,path:"/"},ap="roistat-promo",ax="roistat-phone",L="roistat-phone-country",aq="roistat-phone-region",O="roistat-phone-number",dx="roistat-phone-tel",bX="country",aW="region",br="number",ce="tel",Z="get-phone",o="roistat_call_tracking",ad="roistat-js-script",bF="roistat_phone_replacement",bs="roistat_phone_script_data",c2="roistat-visit-id",a6="roistat_metrika_counter_id",k="roistat_marker_from_referrer",bE="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bT="roistat_emailtracking_emails",m="roistat_geo_data",aY="roistat_promo_code",dz="roistat_proxy_forms",c7="roistat_isMultiDomain",cS=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],ck="roistat_debug",a9="roistat_settings_saved",cz="nocookie",a7=["yandex.ru"],aL="beta_test",cM="roistat_settings_version",b8="roistat-leadhunter-form-template",bD="roistat-leadhunter-pulsator-template",b7="roistat-leadhunter-pulsator-settings",bz="roistat-online-chat-pulsator-template",D="roistat-online-chat-iframe-template",de="roistat-multiwidget-pulsator-template",f="roistat-multiwidget-pulsator-settings",af="roistat_last_settings_update_time",cG="roistat_authorized_client",aH="roistat_params",dl=50,aV="mobile",q="tablet",b4="desktop",b1=500,dt=1024;
var cn="ru",aC="en",cD={ru:["Русский","Russian"],en:["Английский","English"]},al,t;var b9={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var cl={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var c4={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(ct.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}ct.roistatAlreadyStarted=true;if(ct.roistatCookieDomain){c5.domain=ct.roistatCookieDomain}var cx=function(){return new Date().getTime()};var A=function(dO){var dP=cx()-bw;var e="["+(dP/1000)+"s] "+dO;bp=bp+"; "+e;if(typeof console!=="undefined"&&console.log&&bA){console.log(e)}};var v=function(e){var dP=e.split(".");var dO=dP.length;if(dO<2){return e}return dP[dO-2]+"."+dP[dO-1]};var df="cllctr."+v(x);ct.roistat={version:ab,getSource:function(){return cl.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){cl.visitFromUser=e},registerOnVisitProcessedCallback:function(e){cJ(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){bB(e)},disableCallTracking:function(){b9.callTrackingEnabled=false},setCallTrackingManualMode:function(){b9.callTrackingManual=true},setJSONPRequestTimeout:function(e){b9.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){A("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},authClientById:function(e){aJ(e,bO)},authClientByEmail:function(e){aJ(bO,e)},setDeviceParams:function(){if(!cl.isVisitProcessed){A("Visit is not processed, return");return}var e=p();if(e<=0){A("Invalid arguments, return");return}var dP=ct.screen||null;var dO=ct.navigator||null;var dR={screenWidth:dP!==null?(dP.width||null):null,screenHeight:dP!==null?(dP.height||null):null,screenIsExtended:dP!==null?(dP.isExtended||null):null,screenPixelDepth:dP!==null?(dP.pixelDepth||null):null,screenColorDepth:dP!==null?(dP.colorDepth||null):null,deviceMemory:dO!==null?(dO.deviceMemory||null):null,hardwareConcurrency:dO!==null?(dO.hardwareConcurrency||null):null,language:dO!==null?(dO.language||null):null,maxTouchPoints:dO!==null?(dO.maxTouchPoints||null):null,platform:dO!==null?(dO.platform||null):null};var dQ=S()+"/update-visit-by-device-params?visit="+e+"&v="+ab;for(var dT in dR){if(!dR.hasOwnProperty(dT)){continue}var dS=dR[dT];if(dS===null){continue}dQ+="&"+dT+"="+encodeURIComponent(dS)}a4(dQ)},setRoistatParams:function(dU,dT,dR,dQ,dP){var dV=dU!==null&&dK(dU)?dU:{roistat_param1:dU,roistat_param2:dT,roistat_param3:dR,roistat_param4:dQ,roistat_param5:dP};if(!cl.isVisitProcessed){A("Visit is not processed, return");return}var dS=p();if(dS<=0){A("Invalid arguments, return");return}var dW=bc(dV);if(!aX(dW)){A("Has no valid roistat params for visit update, return");return}bj(dW);var e=S()+"/update-visit-by-params?visit="+dS+"&v="+ab;for(var dO in dW){if(!Object.prototype.hasOwnProperty.call(dW,dO)){continue}e+="&"+dO+"="+encodeURIComponent(dW[dO])}a4(e)}};var bc=function(dP){var e={};for(i=1;i<=dl;i++){var dO="roistat_param"+i;if(!Object.prototype.hasOwnProperty.call(dP,dO)){continue}var dQ=dP[dO];if(dQ!==bO&&dQ!==null&&dQ.toString().length>0){e[dO]=dQ}}return e};var bj=function(dP){var dR=aH;var dO=cq.get(dR);var e=JSON.stringify(dP);var dQ=dO===e;if(e!=null&&e.length>0){cY(dP)}if(dQ){A("Params already updated, return");return}cq.set(dR,e)};var cY=function(dO){for(var e=1;e<=dl;e++){var dP="roistat_param"+e;if(dO.hasOwnProperty(dP)){ct.roistat.page.params[dP]=dO[dP]}}};var aJ=function(e,dQ){if(!cl.isVisitProcessed){A("Visit is not processed, return");return}var dR=e!==bO&&e.length>0,dU=dQ!==bO&&dQ.length>0;if(!dR&&!dU){A("Invalid client params, return");return}var dS=p();if(dS<=0){A("Invalid arguments, return");return}var dT=cG,dV=cq.get(dT),dP=dR?e:dQ;
if(dV===dP){A('Client "'+dP+'" is already authorized, return');return}A("Auth client: "+dP);cq.set(dT,dP);var dO=S()+"/update-visit-by-client?visit="+dS+"&v="+ab;if(dR){dO+="&client_id="+encodeURIComponent(e)}if(dU){dO+="&client_email="+encodeURIComponent(dQ)}a4(dO)};var dn=function(dQ,dO){var dP=dQ.length;for(var e=0;e<dP;e++){if(dO===dQ[e]){return true}}return false};var ai=function(){return j(aL)>0};var z=function(){return ct.location.protocol+"//"+ct.location.host+ct.location.pathname};var H=function(){if(dH()){return aV}if(dv()){return q}return b4};var dH=function(){return ct.innerWidth<=b1};var dv=function(){return ct.innerWidth>b1&&ct.innerWidth<=dt};var bd=function(){return ct[aa+"ProjectId"]};var cN=function(){var e=bd().replace(/\D/g,"");A("getProjectHash: "+e);return e};var bu=function(e){var dO=cN();return dn(e,dO)};var cV=function(e){return JSON.parse(JSON.stringify(e))};var bI=function(){var dO=cV(c5),e=parseInt(cq.get(da));dO.expires=e>0?e:d;return dO};var cJ=function(e){if(!cl.isVisitProcessed){c4.onVisitProcessed.push(e)}else{e()}};var cZ=function(){cl.isVisitProcessed=true;A("[Roistat] visit id set. Processing callbacks");var dO=c4.onVisitProcessed.length;for(var e=0;e<dO;e++){c4.onVisitProcessed[e]()}if(ct.roistatVisitCallback!==bO){ct.roistatVisitCallback(ct.roistat.getVisit())}};var bB=function(e){c4.onCallTrackingPhoneReceived.push(e)};var dk=function(){var dO=c4.onCallTrackingPhoneReceived.length;for(var e=0;e<dO;e++){c4.onCallTrackingPhoneReceived[e]()}};var aD=function aD(e){c4.onSPAPageChanged.push(e)};var ch=function ch(){A("[Roistat] SPA page changed. Processing callbacks");var dO=c4.onSPAPageChanged.length;for(var e=0;e<dO;e++){c4.onSPAPageChanged[e]()}};var ar=function(dR,dQ){var dP=dR.className.split(" "),dO=false,e;for(e=0;e<dP.length;e++){if(dP[e]===dQ){dO=true;break}}if(!dO){dP.push(dQ);dR.className=dP.join(" ")}};var ci=function(dQ,dP){var dO=dQ.className.split(" "),e;for(e=0;e<dO.length;e++){if(dO[e]===dP){dO.splice(e,1);dQ.className=dO.join(" ");break}}};var aK=function(dP){try{return decodeURIComponent(dP)}catch(dQ){var dO;dO=y(dP);if(dO===null){return dP}return dO}};var b3={visitor_uid:function(){A("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!dK(ct.AMOPIXEL_IDENTIFIER)||!Y(ct.AMOPIXEL_IDENTIFIER.getVisitorUid)){A("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!a8(e)){A("AmoCrmUID: visitor_uid value must be a string");return null}return e}};var aG=function(){for(var dO in b3){var e=b3[dO]();if(e===null){continue}dy(dO,e,c5)}};var bo=function(){return["_ym_uid","_ga"].concat(P(b3))};var y=function(dS){var dR={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var dP="";var dQ=0;while(dQ<dS.length){var dO=dS.substring(dQ,dQ+3);if(Object.prototype.hasOwnProperty.call(dR,dO)){dP+=dR[dO];dQ+=3}else{dP+=dS.substring(dQ,dQ+1);dQ++}}try{return decodeURIComponent(dP)}catch(dT){return null}};ct.roistatVersion=ab;var bG,an=bu(["860340978620700251","93600421474928811290145"]),K=bu(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827"]),l,cB=true,cH=decodeURIComponent(M.location.href),bp="",a2="",bw=new Date().getTime(),dc=false,cR=ct.roistatPhonePrefix?ct.roistatPhonePrefix:"",dG=ct.roistatPhonePrefixBind?ct.roistatPhonePrefixBind:"",W=ct.roistatCalltrackingScripts&&ct.roistatCalltrackingScripts.join?ct.roistatCalltrackingScripts.join(","):"";var cp=function(e){if(!K){return e}var dO=e.replace(/^roistat[_-]/,"");return aa+"_"+dO};var j,dy,dL;j=ct.roistatGetCookie=function(e){var dO=cp(e);var dP=M.cookie.match(new RegExp("(?:^|; )"+dO.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return dP?aK(dP[1]):bO};dL=function(e,dU,dV){var dS=cp(e);dV=dV||{};var dQ=dV.expires;if(typeof dQ=="number"&&dQ){var dT=new Date();dT.setTime(dT.getTime()+dQ*1000);dQ=dV.expires=dT}if(dQ&&dQ.toUTCString){dV.expires=dQ.toUTCString()
}dU=encodeURIComponent(dU);var dO=dS+"="+dU;for(var dR in dV){dO+="; "+dR;var dP=dV[dR];if(dP!==true){dO+="="+dP}}M.cookie=dO};dy=ct.roistatSetCookie=function dy(dO,dR,e){dL(dO,dR,e);var dQ;dQ=j(aU);dQ=a8(dQ)?dQ.split(","):[];for(var dP in dQ){if(dQ[dP]===dO){return}}dQ.push(dO);dL(aU,dQ.join(","),{path:"/"})};var bM=function(dO,dQ,dP){var e=dO[dQ];dO[dQ]=function(){if(e){e.apply(this,arguments)}dP.apply(this,arguments)}};var am=function(dP,dO,dQ){if(dP.addEventListener){dP.addEventListener(dO,dQ,false);return}var e="on"+dO;if(dP.attachEvent){dP.attachEvent(e,dQ);return}if(e in dP){bM(dP,e,dQ);return}if(dO in dP){bM(dP,dO,dQ);return}A("Handler could not be attached")};var r=function(dQ,dP){var dO=dQ.length;for(var e=0;e<dO;e++){dP(dQ[e])}};var P=function(e){var dO=[];bv(e,function(dP,dQ){dO.push(dP)});return dO};var bv=function(e,dP){for(var dO in e){if(Object.prototype.hasOwnProperty.call(e,dO)){dP(dO,e[dO])}}};var bC=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var aX=function(dO){if(typeof dO!=="object"){return false}for(var e in dO){if(dO.hasOwnProperty(e)){return true}}return false};var dq=function(dP){try{var dO=JSON.parse(dP);if(dO&&typeof dO==="object"){return dO}}catch(dQ){}return null};if(M.getElementsByClassName==bO){M.getElementsByClassName=function(dO){var e=[];var dS=new RegExp("\\b"+dO+"\\b");var dR=this.getElementsByTagName("*");for(var dQ=0;dQ<dR.length;dQ++){var dP=dR[dQ].className;if(dS.test(dP)){e.push(dR[dQ])}}return e}}var aM=function(){return String.fromCharCode};var c1=function(dP){var e="";for(var dO=0;dO<dP.length;++dO){e+=aM()(c3^dP.charCodeAt(dO))}return e};var aT=function(e){return encodeURIComponent(c1(cw.encode(e)))};var cw={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(dP){var e="";var dW,dU,dS,dV,dT,dR,dQ;var dO=0;dP=cw._utf8_encode(dP);while(dO<dP.length){dW=dP.charCodeAt(dO++);dU=dP.charCodeAt(dO++);dS=dP.charCodeAt(dO++);dV=dW>>2;dT=((dW&3)<<4)|(dU>>4);dR=((dU&15)<<2)|(dS>>6);dQ=dS&63;if(isNaN(dU)){dR=dQ=64}else{if(isNaN(dS)){dQ=64}}e=e+this._keyStr.charAt(dV)+this._keyStr.charAt(dT)+this._keyStr.charAt(dR)+this._keyStr.charAt(dQ)}return e},decode:function(dP){var e="";var dW,dU,dS;var dV,dT,dR,dQ;var dO=0;dP=dP.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(dO<dP.length){dV=this._keyStr.indexOf(dP.charAt(dO++));dT=this._keyStr.indexOf(dP.charAt(dO++));dR=this._keyStr.indexOf(dP.charAt(dO++));dQ=this._keyStr.indexOf(dP.charAt(dO++));dW=(dV<<2)|(dT>>4);dU=((dT&15)<<4)|(dR>>2);dS=((dR&3)<<6)|dQ;e=e+String.fromCharCode(dW);if(dR!=64){e=e+String.fromCharCode(dU)}if(dQ!=64){e=e+String.fromCharCode(dS)}}e=cw._utf8_decode(e);return e},_utf8_encode:function(dO){dO=dO.replace(/\r\n/g,"\n");var e="";for(var dQ=0;dQ<dO.length;dQ++){var dP=dO.charCodeAt(dQ);if(dP<128){e+=String.fromCharCode(dP)}else{if((dP>127)&&(dP<2048)){e+=String.fromCharCode((dP>>6)|192);e+=String.fromCharCode((dP&63)|128)}else{e+=String.fromCharCode((dP>>12)|224);e+=String.fromCharCode(((dP>>6)&63)|128);e+=String.fromCharCode((dP&63)|128)}}}return e},_utf8_decode:function(e){var dP="";var dR=0;var dS=0;var dQ=0;var dO=0;while(dR<e.length){dS=e.charCodeAt(dR);if(dS<128){dP+=String.fromCharCode(dS);dR++}else{if((dS>191)&&(dS<224)){dQ=e.charCodeAt(dR+1);dP+=String.fromCharCode(((dS&31)<<6)|(dQ&63));dR+=2}else{dQ=e.charCodeAt(dR+1);dO=e.charCodeAt(dR+2);dP+=String.fromCharCode(((dS&15)<<12)|((dQ&63)<<6)|(dO&63));dR+=3}}}return dP}};var bW=bW||function(dZ,dP){var dR={},dS=dR.lib={},dQ=function(){},e=dS.Base={extend:function(d0){dQ.prototype=this;var d1=new dQ;d0&&d1.mixIn(d0);d1.hasOwnProperty("init")||(d1.init=function(){d1.$super.init.apply(this,arguments)});d1.init.prototype=d1;d1.$super=this;return d1},create:function(){var d0=this.extend();d0.init.apply(d0,arguments);return d0},init:function(){},mixIn:function(d0){for(var d1 in d0){d0.hasOwnProperty(d1)&&(this[d1]=d0[d1])}d0.hasOwnProperty("toString")&&(this.toString=d0.toString)},clone:function(){return this.init.prototype.extend(this)}},dO=dS.WordArray=e.extend({init:function(d0,d1){d0=this.words=d0||[];this.sigBytes=d1!=dP?d1:4*d0.length},toString:function(d0){return(d0||dY).stringify(this)},concat:function(d0){var d3=this.words,d1=d0.words,d2=this.sigBytes;d0=d0.sigBytes;this.clamp();if(d2%4){for(var d4=0;d4<d0;d4++){d3[d2+d4>>>2]|=(d1[d4>>>2]>>>24-8*(d4%4)&255)<<24-8*((d2+d4)%4)}}else{if(65535<d1.length){for(d4=0;d4<d0;d4+=4){d3[d2+d4>>>2]=d1[d4>>>2]}}else{d3.push.apply(d3,d1)}}this.sigBytes+=d0;return this},clamp:function(){var d0=this.words,d1=this.sigBytes;d0[d1>>>2]&=4294967295<<32-8*(d1%4);d0.length=dZ.ceil(d1/4)},clone:function(){var d0=e.clone.call(this);d0.words=this.words.slice(0);return d0},random:function(d0){for(var d2=[],d1=0;d1<d0;d1+=4){d2.push(4294967296*dZ.random()|0)}return new dO.init(d2,d0)}}),dW=dR.enc={},dY=dW.Hex={stringify:function(d0){var d1=d0.words;d0=d0.sigBytes;for(var d4=[],d3=0;d3<d0;d3++){var d2=d1[d3>>>2]>>>24-8*(d3%4)&255;d4.push((d2>>>4).toString(16));d4.push((d2&15).toString(16))
}return d4.join("")},parse:function(d0){for(var d1=d0.length,d3=[],d2=0;d2<d1;d2+=2){d3[d2>>>3]|=parseInt(d0.substr(d2,2),16)<<24-4*(d2%8)}return new dO.init(d3,d1/2)}},dV=dW.Latin1={stringify:function(d0){var d1=d0.words;d0=d0.sigBytes;for(var d3=[],d2=0;d2<d0;d2++){d3.push(String.fromCharCode(d1[d2>>>2]>>>24-8*(d2%4)&255))}return d3.join("")},parse:function(d0){for(var d1=d0.length,d3=[],d2=0;d2<d1;d2++){d3[d2>>>2]|=(d0.charCodeAt(d2)&255)<<24-8*(d2%4)}return new dO.init(d3,d1)}},dX=dW.Utf8={stringify:function(d0){try{return decodeURIComponent(escape(dV.stringify(d0)))}catch(d1){throw Error("Malformed UTF-8 data")}},parse:function(d0){return dV.parse(unescape(encodeURIComponent(d0)))}},dU=dS.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new dO.init;this._nDataBytes=0},_append:function(d0){"string"==typeof d0&&(d0=dX.parse(d0));this._data.concat(d0);this._nDataBytes+=d0.sigBytes},_process:function(d1){var d3=this._data,d6=d3.words,d5=d3.sigBytes,d4=this.blockSize,d0=d5/(4*d4),d0=d1?dZ.ceil(d0):dZ.max((d0|0)-this._minBufferSize,0);d1=d0*d4;d5=dZ.min(4*d1,d5);if(d1){for(var d2=0;d2<d1;d2+=d4){this._doProcessBlock(d6,d2)}d2=d6.splice(0,d1);d3.sigBytes-=d5}return new dO.init(d2,d5)},clone:function(){var d0=e.clone.call(this);d0._data=this._data.clone();return d0},_minBufferSize:0});dS.Hasher=dU.extend({cfg:e.extend(),init:function(d0){this.cfg=this.cfg.extend(d0);this.reset()},reset:function(){dU.reset.call(this);this._doReset()},update:function(d0){this._append(d0);this._process();return this},finalize:function(d0){d0&&this._append(d0);return this._doFinalize()},blockSize:16,_createHelper:function(d0){return function(d1,d2){return(new d0.init(d2)).finalize(d1)}},_createHmacHelper:function(d0){return function(d1,d2){return(new dT.HMAC.init(d0,d2)).finalize(d1)}}});var dT=dR.algo={};return dR}(Math);(function(dX){function dP(d1,d2,dZ,d4,d0,d3,dY){d1=d1+(d2&dZ|~d2&d4)+d0+dY;return(d1<<d3|d1>>>32-d3)+d2}function dR(d1,d2,dZ,d4,d0,d3,dY){d1=d1+(d2&d4|dZ&~d4)+d0+dY;return(d1<<d3|d1>>>32-d3)+d2}function dS(d1,d2,dZ,d4,d0,d3,dY){d1=d1+(d2^dZ^d4)+d0+dY;return(d1<<d3|d1>>>32-d3)+d2}function dQ(d1,d2,dZ,d4,d0,d3,dY){d1=d1+(dZ^(d2|~d4))+d0+dY;return(d1<<d3|d1>>>32-d3)+d2}for(var e=bW,dO=e.lib,dU=dO.WordArray,dW=dO.Hasher,dO=e.algo,dT=[],dV=0;64>dV;dV++){dT[dV]=4294967296*dX.abs(dX.sin(dV+1))|0}dO=dO.MD5=dW.extend({_doReset:function(){this._hash=new dU.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(ef,ec){for(var ek=0;16>ek;ek++){var ee=ec+ek,d1=ef[ee];ef[ee]=(d1<<8|d1>>>24)&16711935|(d1<<24|d1>>>8)&4278255360}var ek=this._hash.words,ee=ef[ec+0],d1=ef[ec+1],ed=ef[ec+2],ea=ef[ec+3],d8=ef[ec+4],d6=ef[ec+5],d4=ef[ec+6],d3=ef[ec+7],d2=ef[ec+8],d0=ef[ec+9],dZ=ef[ec+10],dY=ef[ec+11],eb=ef[ec+12],d9=ef[ec+13],d7=ef[ec+14],d5=ef[ec+15],ej=ek[0],ei=ek[1],eh=ek[2],eg=ek[3],ej=dP(ej,ei,eh,eg,ee,7,dT[0]),eg=dP(eg,ej,ei,eh,d1,12,dT[1]),eh=dP(eh,eg,ej,ei,ed,17,dT[2]),ei=dP(ei,eh,eg,ej,ea,22,dT[3]),ej=dP(ej,ei,eh,eg,d8,7,dT[4]),eg=dP(eg,ej,ei,eh,d6,12,dT[5]),eh=dP(eh,eg,ej,ei,d4,17,dT[6]),ei=dP(ei,eh,eg,ej,d3,22,dT[7]),ej=dP(ej,ei,eh,eg,d2,7,dT[8]),eg=dP(eg,ej,ei,eh,d0,12,dT[9]),eh=dP(eh,eg,ej,ei,dZ,17,dT[10]),ei=dP(ei,eh,eg,ej,dY,22,dT[11]),ej=dP(ej,ei,eh,eg,eb,7,dT[12]),eg=dP(eg,ej,ei,eh,d9,12,dT[13]),eh=dP(eh,eg,ej,ei,d7,17,dT[14]),ei=dP(ei,eh,eg,ej,d5,22,dT[15]),ej=dR(ej,ei,eh,eg,d1,5,dT[16]),eg=dR(eg,ej,ei,eh,d4,9,dT[17]),eh=dR(eh,eg,ej,ei,dY,14,dT[18]),ei=dR(ei,eh,eg,ej,ee,20,dT[19]),ej=dR(ej,ei,eh,eg,d6,5,dT[20]),eg=dR(eg,ej,ei,eh,dZ,9,dT[21]),eh=dR(eh,eg,ej,ei,d5,14,dT[22]),ei=dR(ei,eh,eg,ej,d8,20,dT[23]),ej=dR(ej,ei,eh,eg,d0,5,dT[24]),eg=dR(eg,ej,ei,eh,d7,9,dT[25]),eh=dR(eh,eg,ej,ei,ea,14,dT[26]),ei=dR(ei,eh,eg,ej,d2,20,dT[27]),ej=dR(ej,ei,eh,eg,d9,5,dT[28]),eg=dR(eg,ej,ei,eh,ed,9,dT[29]),eh=dR(eh,eg,ej,ei,d3,14,dT[30]),ei=dR(ei,eh,eg,ej,eb,20,dT[31]),ej=dS(ej,ei,eh,eg,d6,4,dT[32]),eg=dS(eg,ej,ei,eh,d2,11,dT[33]),eh=dS(eh,eg,ej,ei,dY,16,dT[34]),ei=dS(ei,eh,eg,ej,d7,23,dT[35]),ej=dS(ej,ei,eh,eg,d1,4,dT[36]),eg=dS(eg,ej,ei,eh,d8,11,dT[37]),eh=dS(eh,eg,ej,ei,d3,16,dT[38]),ei=dS(ei,eh,eg,ej,dZ,23,dT[39]),ej=dS(ej,ei,eh,eg,d9,4,dT[40]),eg=dS(eg,ej,ei,eh,ee,11,dT[41]),eh=dS(eh,eg,ej,ei,ea,16,dT[42]),ei=dS(ei,eh,eg,ej,d4,23,dT[43]),ej=dS(ej,ei,eh,eg,d0,4,dT[44]),eg=dS(eg,ej,ei,eh,eb,11,dT[45]),eh=dS(eh,eg,ej,ei,d5,16,dT[46]),ei=dS(ei,eh,eg,ej,ed,23,dT[47]),ej=dQ(ej,ei,eh,eg,ee,6,dT[48]),eg=dQ(eg,ej,ei,eh,d3,10,dT[49]),eh=dQ(eh,eg,ej,ei,d7,15,dT[50]),ei=dQ(ei,eh,eg,ej,d6,21,dT[51]),ej=dQ(ej,ei,eh,eg,eb,6,dT[52]),eg=dQ(eg,ej,ei,eh,ea,10,dT[53]),eh=dQ(eh,eg,ej,ei,dZ,15,dT[54]),ei=dQ(ei,eh,eg,ej,d1,21,dT[55]),ej=dQ(ej,ei,eh,eg,d2,6,dT[56]),eg=dQ(eg,ej,ei,eh,d5,10,dT[57]),eh=dQ(eh,eg,ej,ei,d4,15,dT[58]),ei=dQ(ei,eh,eg,ej,d9,21,dT[59]),ej=dQ(ej,ei,eh,eg,d8,6,dT[60]),eg=dQ(eg,ej,ei,eh,dY,10,dT[61]),eh=dQ(eh,eg,ej,ei,ed,15,dT[62]),ei=dQ(ei,eh,eg,ej,d0,21,dT[63]);ek[0]=ek[0]+ej|0;ek[1]=ek[1]+ei|0;ek[2]=ek[2]+eh|0;ek[3]=ek[3]+eg|0},_doFinalize:function(){var d0=this._data,d1=d0.words,dY=8*this._nDataBytes,d2=8*d0.sigBytes;
d1[d2>>>5]|=128<<24-d2%32;var dZ=dX.floor(dY/4294967296);d1[(d2+64>>>9<<4)+15]=(dZ<<8|dZ>>>24)&16711935|(dZ<<24|dZ>>>8)&4278255360;d1[(d2+64>>>9<<4)+14]=(dY<<8|dY>>>24)&16711935|(dY<<24|dY>>>8)&4278255360;d0.sigBytes=4*(d1.length+1);this._process();d0=this._hash;d1=d0.words;for(dY=0;4>dY;dY++){d2=d1[dY],d1[dY]=(d2<<8|d2>>>24)&16711935|(d2<<24|d2>>>8)&4278255360}return d0},clone:function(){var dY=dW.clone.call(this);dY._hash=this._hash.clone();return dY}});e.MD5=dW._createHelper(dO);e.HmacMD5=dW._createHmacHelper(dO)})(Math);var bK=function(){return M[aM()(99,111,111,107,105,101)]};var ay=function(){dC();var e={c:di()};return aT(JSON.stringify(e))};var cK=function(){var e=p();return(e===bO||e===null)?cz:e};var di=function(){var e=[];for(var dO in cl.cookies){if(!Object.prototype.hasOwnProperty.call(cl.cookies,dO)){continue}e.push(dO+"="+cl.cookies[dO])}return e.join("; ")};var dC=function(){var e=n();for(var dO in e){if(!Object.prototype.hasOwnProperty.call(e,dO)){continue}cl.cookies[dO]=e[dO]}};var aw=function(e){dy(dd,e,bI());cl.source.marker=e};var at=function(){return j(dd)};var g=function(){bv(ct.roistat.page.params,function(dO,e){cl.pageParams[dO]=e})};var n=function(){var dQ=bK();var dR=dQ.split("; ");var e={};for(var dP=0;dP<dR.length;dP++){var dU=dR[dP];if(dU===""){continue}var dO=dU.split("=");if(dO.length<2){continue}var dT=dO[0].trim();var dS=dO[1].trim();e[dT]=dS}return e};var h=function(){return aM()(104,97,115,104)};var aS=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var cg={isAvailable:function(){var dO=false;if(!ct.sessionStorage||!ct.sessionStorage.setItem||!ct.sessionStorage.getItem||!ct.sessionStorage.removeItem){return dO}try{ct.sessionStorage.setItem("testKey","testValue");dO=ct.sessionStorage.getItem("testKey")==="testValue";ct.sessionStorage.removeItem("testKey")}catch(dP){return false}return dO},remove:function(e){if(this.isAvailable()){ct.sessionStorage.removeItem(cp(e))}},setObject:function(e,dO){if(this.isAvailable()){ct.sessionStorage.setItem(cp(e),JSON.stringify(dO))}},getObject:function(dO){var e=null;if(this.isAvailable()){e=ct.sessionStorage.getItem(cp(dO));e=JSON.parse(e)}return e},set:function(e,dO){if(this.isAvailable()){ct.sessionStorage.setItem(cp(e),dO)}},get:function(dO){var e=null;if(this.isAvailable()){e=ct.sessionStorage.getItem(cp(dO))}return e}};var cq={isAvailable:function(){var dO=false;if(!ct.localStorage||!ct.localStorage.setItem||!ct.localStorage.getItem||!ct.localStorage.removeItem){return dO}try{ct.localStorage.setItem("testKey","testValue");dO=ct.localStorage.getItem("testKey")==="testValue";ct.localStorage.removeItem("testKey")}catch(dP){return false}return dO},remove:function(dO){if(this.isAvailable()){ct.localStorage.removeItem(cp(dO))}else{var e=new Date(1970,1,1);dy(dO,"",{expires:e.toUTCString()})}},setObject:function(e,dO){if(this.isAvailable()){localStorage.setItem(cp(e),JSON.stringify(dO))}},getObject:function(dO){var e=null;if(this.isAvailable()){e=localStorage.getItem(cp(dO));e=dq(e)}return e},set:function(e,dO){if(this.isAvailable()){localStorage.setItem(cp(e),dO)}else{if(this.isSaveInCookieEnabled()){dy(e,dO,c5)}}},save:function(dO,dP,e){if(this.isAvailable()){localStorage.setItem(cp(dO),dP)}dy(dO,dP,e)},get:function(dO){var e=null;if(this.isAvailable()){e=localStorage.getItem(cp(dO))}if(e===null){e=j(dO)}return e},isSaveInCookieEnabled:function(){return this.get(bm)>0},isExternalCountersEnabled:function(){return this.get(E)>0}};var cd=function(){return !cc(M.referrer)?M.referrer:null};var Y=function(e){return typeof e==="function"};var dK=function(e){return typeof e==="object"};var a8=function(e){return typeof e==="string"};var ae=function(dQ,dP){dP=typeof dP!=="undefined"?dP:false;var dR=function(dU){var dT=null;var dV=new RegExp("[#&?]("+dQ+"=[^#&?]+)");if(dV.test(dU)){dT=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var dS=aK(dT);return dT&&dS?dS:dT};var e=dR(cH);if(dP){var dO=M.referrer;if(e===null&&dO){e=dR(dO)}}return e};var dh=function(dO,dP){var e=false;if(dO&&dP){e=dO.split(dP).join("")!==dO}return e};if(ae(ck)==="1"||n()[ck]==="1"){bA=true}var cU=function(){return true};var aQ=function(){return cU()?ct.roistatMultiWidgetOnly:ct.roistatOnlineChatOnly};var dB=function(){var dO=bd()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||bd()==="4";var e=(ct.location.host==="cloud.roistat.com"||ct.location.host==="cloud-eu.roistat.com")&&ct.location.pathname!=="/user/login"&&ct.location.pathname!=="/user/register";var dQ=bd()==="349ac99f64416756d4a18e91c71dc95f";var dP=ct.location.host==="datyson.ru"&&ct.location.pathname==="/cloud.html";if((dO&&!e)||(dQ&&!dP)){A("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var bi=function(){if("https:"===M.location.protocol){return"https:"}else{return"http:"}};var X=function(dO){var e=M.createElement("img");e.src=dO;A("sendRequestByUrl: "+dO)};var a4=function(dO,dQ){A("sendApiRequestJSONP: init with url "+dO);
var e=M.createElement("script");e.onload=e.onreadystatechange=function(){var dR=this.readyState?this.readyState:"unknown";A("sendApiRequestJSONP: script state changed to "+dR)};e.src=dO;if(dQ){e.setAttribute("data-roistat-script-id",dQ)}e.type="text/javascript";e.async=true;var dP=M.getElementsByTagName("script")[0];dP.parentNode.insertBefore(e,dP);A("sendApiRequestJSONP: script appended")};var b6=function(){if(cl.isCssLoaded){return}(function(){var dO=M.createElement("link"),e=M.getElementsByTagName("head");dO.setAttribute("rel","stylesheet");dO.setAttribute("href",bi()+"//"+x+"/dist/module.css?"+ab);if(e.length>0){cl.isCssLoaded=true;e[0].appendChild(dO)}})()};var cv=function(){return cA()||dI()};var cA=function(){return bq()!==null};var dI=function(){return cs()!==null};var db=function(){var e=c8();if(e!==null){dy(cj,e,bI())}};var c8=function(){return bq()||cs()||null};var bq=function(){return ae("roistat_visit")};var cs=function(){return cl.visitFromUser};var a=function(dO,e){if(!e&&(cl.isSettingsUpdating||!M.hasFocus())){A("Already updating settings or document not in focus, return");return}var dP=S()+"/get-settings?v="+ab+"&visit="+dO;A("Request new settings");cl.isSettingsUpdating=true;a4(dP)};var a0=function(){return cq.get(a9)>0};var ds=function(){cq.set(a9,1)};var aF=function(){cq.remove(b8);cq.remove(bD);cq.remove(b7);cq.remove(bz);cq.remove(D);cq.remove(cX);cq.remove(de);cq.remove(f)};var cm=function(){var dR=function(){return cq.get(cM)};var dQ=function(){cq.set(cM,B)};var dO=function(){return typeof dR()==="string"};var e=function(){var dS=Number(dR())>B;A("Settings Version: settings version change status - "+dS);return dS};var dP=function(){var dS=1000*60*60*24;var dV=dm();var dU=cx()-dV;var dT=dU>dS;A("Settings Version:: expiration day check: lastUpdateTime="+dV+", _lastUpdateTimeDiff="+dU+", _oneDayDiffInMs="+dS+", result="+(dT?1:0));return dT};if(!dO()){A("Settings Version: set settings version up to 1");dQ()}if(dP()||e()){A("Settings Version: clear settings");aF()}};var dD=function(){A("Call: Init");A("Counter version: "+ab);if(ae("roistat_ab_demo")==="1"){A("Roistat initialisation rejected: ab test preview mode");return}bt();cT();if((!av()||dJ())&&!aQ()){dc=true;bR()}else{cm();db();var dO=p();I("Init visit with new visit_id, visit_id: "+dO+" and referrer: "+l);bY();bg();c9();roistat.visit=dO;cl.source.marker=at();ct.roistat.geo=cq.getObject(m);var dP=a0();if(!dP){a(dO)}else{cZ()}}cJ(dr);cJ(dM);var e=bd()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||bd()==="4";if(e){cJ(roistat.setDeviceParams)}};var dr=function(){A("InitExternalCounter");if(!cq.isExternalCountersEnabled()){A("ExternalCounters is not available, return");return}var dP=bd();var dO=J();var dS=dO?dO:p();var dR=dP+":"+dS;var e=dP+":"+bW.MD5(bh(M.domain)).toString();var dQ=function(dV,dT){var dU=(M.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+dT+"&event_type=view&user_id="+dV;var dW=new XMLHttpRequest;dW.open("GET",dU,true);dW.withCredentials=true;dW.onload=function(){if(dW.readyState===4){if(dW.status!==204){console.error(dW.statusText)}}};dW.onerror=function(){console.error(dW.statusText)};dW.send(null)};dQ(dR,e);A("InitExternalCounter: script appended")};var Q=function(dP){if(!dP.isEnabled){return true}var e=new Date();var dW=new Date().toISOString();var dT=e.getUTCDay()===0?7:e.getDay();var dU=dT===6||dT===7;var dV=false;for(var dR=0;dR<dP.days.length;dR++){if(dT===dP.days[dR]){dV=true}}if(!dV){return false}if(dU&&dP.weekendsTime!==null){var dX=new Date(dP.weekendsTime.from).toISOString();var dQ=new Date(dP.weekendsTime.to).toISOString();return dW>=dX&&dW<=dQ}var dS=new Date(dP.weekdaysTime.from).toISOString();var dO=new Date(dP.weekdaysTime.to).toISOString();return dW>=dS&&dW<=dO};var bt=function(){A("Call: initMarker");bG=cy();A("Call: inited marker: "+bG)};var cT=function(){A("Call: initReferrer");l=cd();A("Call: end initReferrer: "+l)};var dM=function(){A("Call: parsing roistat params from url");var dP={};for(i=1;i<=dl;i++){var dO="roistat_param"+i;dP[dO]=ae(dO,false)}var e=bc(dP);if(aX(e)&&Object.keys(e).length>0){bj(e)}A("Call: end parsing roistat params from url")};var cc=function(dP){if(!dP){return true}var e=bh(dP);var dO=bh(M.domain);if(e===dO){return true}var dQ=b5();if(dQ===null){return false}if(dh(e,dQ)&&dh(dO,dQ)){return true}return false};var b5=function(){if(typeof c5.domain==="string"&&c5.domain!==""){return bh(c5.domain)}return null};var bh=function(e){var dO=e.split("http://").join("").split("https://").join("").split("www.").join("").replace(/^\./,"");return dO.split("/")[0]};var cy=function(){var dS=j(k)>0;var dU=null;var dP=function(dX){return dX.split("_").join(":u:")};var dW=function(dY){var dX=false;r(a7,function(dZ){if(dY.indexOf(dZ)>-1){dX=true}});return dX};var dV=function(){var dX=false;var dY;dY=ae(N,dS);if(dY!==null){dU=dY;dX=true}dY=ae(cQ,dS);if(dY!==null){dU=dY;dX=true}return dX};var dQ=function(){var dX=false;var dY=at();if(dY){dU=dY;dX=true;cB=false}return dX};
var dO=function(){var dX=false;var dZ=ae("utm_source",dS);if(dZ!==null){dX=true;dU=":utm:"+dP(dZ);var d1=["utm_medium","utm_campaign","utm_content","utm_term"];var dY;for(var d0=0;d0<d1.length;d0++){dY=ae(d1[d0],dS);if(dY!==null){dU=dU+"_"+dP(dY)}}}return dX};var dR=function(){var dZ,dY,dX=false;dY=ae("_openstat",dS);if(!dY){return false}if(dT(dY)){dZ=dY}else{dZ=encodeURI(cw.decode(dY));if(!dT(dZ)){dZ=dY}}if(dZ){dZ=dP(dZ).split(";").join("_");dU=":openstat:"+dZ;dX=true}return dX};var dT=function(dX){return dX.match(/^([^;]*(;[^;]*){3})$/)!==null};var e=function(){var dX=false;var dY=M.referrer;if(cc(dY)){return dX}var dZ=ae("from",dS);if(dZ!==null&&!dh(dZ,"http")){if(!dW(dZ)){dX=true;dU=dP(dZ)}}return dX};if(dV()){A("Init marker: init from RS param "+dU);return dU}if(dO()){A("Init marker: init from UTM "+dU);return dU}if(dR()){A("Init marker: init from OpenStat "+dU);return dU}if(e()){A("Init marker: init from custom tag "+dU);return dU}A("Init marker: try init from cookie "+dU);dQ();return dU};var p=function(){return cq.get(cj)};var J=function(){return cq.get(a5)};var ag=function(){A("Call: saveReferrer");cq.set(aN,l)};var cf=function(){A("Call: removeReferrer");cq.remove(aN)};var dp=function(){dy(bn,aK(bG),bI())};var c9=function(){A("Call: refreshPromoCode");if(aQ()){A("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return j(cj)};aB(e());if(!ct.onload){ct.onload=function(){aB(e())}}setTimeout(function(){aB(e())},50);setTimeout(function(){aB(e())},200);setTimeout(function(){aB(e())},2000);setTimeout(function(){aB(e())},10000)};ct.roistatPromoCodeRefresh=c9;var du=function(){var e=[];var dO=M.getElementsByClassName(ap);if(dO&&dO.length){e=dO}return e};var aB=function(e){var dQ=du();A("setPromoCode: "+e+" in "+dQ.length+" elements");for(var dP=0;dP<dQ.length;dP++){var dO=dQ[dP];dO.innerHTML=e?e:""}};var bU=function(){var dP=cy(),dO=j(bn),dR=dP!==null,dQ=true;var dT=aK(aK(dP)).toLowerCase().split("+").join(" "),dS=aK(aK(dO)).toLowerCase().split("+").join(" ");if(dP&&dO){dQ=dT!==dS}var e=dR&&dQ;a2="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+dP+":"+dT+" and old "+dO+":"+dS;A(a2);return e};var aR=function(){var dO=function(dW){return/[\u0400-\u04FF]/.test(dW)};var dV=false,dS=l,e=cq.get(aN),dU=ct.location.host;if(!dS||!dU){A("Call: needOverrideByReferrer (result "+(dV?"true":"false")+"), skip because one of params is empty");return dV}dU=bh(dU);dS=aK(dS);e=aK(e);var dQ=bh(dS);if(dh(dS,"xn--")&&dO(dU)){A("Call: needOverrideByReferrer (result "+(dV?"true":"false")+"), skip because of bugs with punycode in FF");return dV}if(!dQ){A("Call: needOverrideByReferrer (result "+(dV?"true":"false")+"), skip because current referrer is null");return dV}if(!e){dV=!dh(dQ,dU);A("Call: needOverrideByReferrer (result "+(dV?"true":"false")+"), compare current referrer and host");return dV}if(dh(dS,e)){A("Call: needOverrideByReferrer (result "+(dV?"true":"false")+"), skip because the same referrer");return dV}var dT=dU.split(".").length>2&&dQ.split(".").length>2;var dR=ct.roistatCookieDomain!==bO&&ct.roistatCookieDomain!==dU;var dP=dQ.split(".").slice(1).join(".")===dU.split(".").slice(1).join(".");if(dT&&dR&&dP){A("Call: needOverrideByReferrer (result "+(dV?"true":"false")+"), skip because sub domains of same domain");return dV}dV=!(dh(dQ,dU)||(dh(dU,dQ)));A("Call: needOverrideByReferrer (result "+(dV?"true":"false")+") referrerHost: "+dQ+", currentHost: "+dU);return dV};var bZ=function(){return ae("utm_nooverride")==="1"};var dJ=function(){return !cv()&&!bZ()&&(bU()||aR())};var b0=function(dO,e){return(dO&&e&&dO!=e)};var bl=function(dP){var e=["cookieExpire"];var dR=dP.leadHunterEnabled;if(Number(cq.get(bP))!==Number(dP.leadHunterEnabled)){cq.set(bP,Number(dP.leadHunterEnabled))}if(dR){var dQ={expires:T,path:"/"};if(c5.domain){dQ.domain=c5.domain}dy(ah,1,dQ)}for(var dO in dP){if(!Object.prototype.hasOwnProperty.call(dP,dO)){continue}if(!dR&&dO.indexOf("leadHunter")>=0&&dO.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!aA(e,dO)){cq.set("roistat_"+dO,dP[dO])}}};var c6=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(cq.get(bk))!==Number(e.is_enabled)){cq.set(bk,Number(e.is_enabled))}if(Number(cq.get(ca))!==Number(e.vk.is_enabled)){cq.set(ca,Number(e.vk.is_enabled))}if(cq.get(c0)!==roistat.multiwidget.vk.link){cq.set(c0,roistat.multiwidget.vk.link)}if(Number(cq.get(U))!==Number(e.fb.is_enabled)){cq.set(U,Number(e.fb.is_enabled))}if(cq.get(dj)!==roistat.multiwidget.fb.link){cq.set(dj,roistat.multiwidget.fb.link)
}if(Number(cq.get(cL))!==e.telegram.is_enabled){cq.set(cL,Number(e.telegram.is_enabled))}if(cq.get(by)!==roistat.multiwidget.telegram.link){cq.set(by,roistat.multiwidget.telegram.link)}if(Number(cq.get(cW))!==e.whats_app.is_enabled){cq.set(cW,Number(e.whats_app.is_enabled))}if(cq.get(bN)!==roistat.multiwidget.whatsApp.link){cq.set(bN,roistat.multiwidget.whatsApp.link)}if(Number(cq.get(dN))!==e.viber.is_enabled){cq.set(dN,Number(e.viber.is_enabled))}if(cq.get(cO)!==roistat.multiwidget.viber.link){cq.set(cO,roistat.multiwidget.viber.link)}};var cu=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(cq.get(cX))!==Number(e.is_enabled)){cq.set(cX,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;cq.setObject(C,e.advanced_settings)};var w=function(e){ct.roistat.geo=e;cq.setObject(m,e)};var cF=function(e){A("PromoCode: save settings");cq.setObject(aY,e)};var dE=function(dR,dT,dQ,dO,dS,e,dU,dP){bl(dR);roistat.callTracking.enabled=dT.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=dQ.email;roistat.emailtracking.trackingEmail=dQ.trackingEmail;roistat.emailtracking.emails=dQ.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=dS;c6(e);cu(dU);w(dO);cF(dP)};ct.roistatModuleSetVisitCookie=function(dS,d0,dQ,dO,dZ,dV,e,d2,dU,d1){A("Call: roistatModuleSetVisitCookie("+dS+")");var dW;if(typeof dQ.cookieExpire!=="number"){dW=bI().expires}else{dW=dQ.cookieExpire}var dT=j(cj);var dY={expires:dW,path:"/"};if(c5.domain){dY.domain=c5.domain}dy(cj,dS,dY);if(!(j(cj)>0)){cq.save(cj,dS,dY)}if(!cq.get(a5)){var dP={expires:10*365*24*60*60,path:"/"};if(c5.domain){dP.domain=c5.domain}cq.save(a5,dS,dP)}var dX=dQ.abTests;if((typeof dX!=="undefined")&&cq.isAvailable()){cq.setObject("abTesting",dX)}applyTests();var dR=dQ.isNeedToListenRequests;if((typeof dR!=="undefined")&&cq.isAvailable()){cq.set(au,dR)}aB(dS);if(d0){aw(d0);dy(bn,d0,dY)}if(ct.roistatCallback!==bO){ct.roistatCallback(dS,d0)}if(!d2){d2={}}dE(dQ,dO,dZ,dV,e,d2.multiwidget_settings,dU,d1);roistat.callTracking.phone=dO.phone;roistat.callTracking.sessionTime=dO.sessionTime;roistat.callTracking.replacementClasses=dO.replacementClasses;roistat.callTracking.phoneScriptsJson=dO.scripts;roistat.visit=dS;A("Call: pre renderPromoCode");bg();c9();if(b0(dT,dS)){A("roistatModuleSetVisitCookie: visit changed from "+dT+" to "+dS)}dk();ds();cZ()};ct.roistatUpdateSettings=function(e){A("Set settings.");cl.isSettingsUpdating=false;dE(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code);ds();cZ()};var av=function(){var e;if(ct.roistatIsInitVisit===true){e=false}else{e=j(cj)>0}A("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var c=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var bb=function(){return l?c(l):""};var S=function(){return bi()+"//"+x+"/api/site/"+ao+"/"+bd()};var cC=function(){var dO={expires:1,path:"/"};var e={expires:bQ,path:"/"};if(c5.domain){dO.domain=c5.domain;e.domain=c5.domain}var dP=j(bH);if(dP){dy(ak,dP,e)}dy(bH,"",dO);dy(V,"",dO)};var bR=function(){A("Call: setVisitIdCookie");var dO=function(){var dY=bd(),dV=bb(),dR=ct.roistatIsInitVisit===true?p():0,dX=j(bH),dT=j(cb),dS=cq.get(a5);dX=dX?dX:"";dS=dS?dS:"";bG=bG&&(!aR()||cB)?aK(aK(bG)):"";I("Init visit with visit id from cookie, visit_id: "+dR+" and referrer: "+dV+" calculateApiUrl marker: "+bG);var dW=encodeURIComponent(cH);A("Calltracking: enabled="+b9.callTrackingEnabled+",manual="+b9.callTrackingManual);var dU=JSON.stringify(ct.roistat.page.params);return S()+"/addVisit?v="+ab+"&marker="+encodeURIComponent(bG)+"&visit="+dR+"&first_visit="+dS+"&guid="+dT+"&phone_prefix="+cR+"&phone_prefix_bind="+dG+"&phone_scripts_bind="+W+"&referrer="+dV+"&page="+dW+"&ab="+c(dX)+"&"+h()+"="+ay()+(dU==="{}"?"":"&page_params="+encodeURIComponent(dU))+((!b9.callTrackingEnabled||b9.callTrackingManual)?"&call_tracking_disabled=1":"")};var e=function(dR){setTimeout(function(){A("Call: setVisitIdCookie script creation after timeout");var dS=M.createElement("script");dS.onload=dS.onreadystatechange=function(){var dU=this.readyState?this.readyState:"unknown";A("Call: setVisitIdCookie script state changed to "+dU)};dS.src=dR;dS.type="text/javascript";dS.async=true;dS.id=ad;var dT=M.getElementsByTagName("script")[0];dT.parentNode.insertBefore(dS,dT);A("Call: setVisitIdCookie appended "+((M.getElementById(ad))?"true":"false"));A("Call: sendJSONPRequest to URL "+dR);cC()},b9.jsonpRequestTimeout)};if(bG){aw(bG);dp()}var dQ=j(aZ);if(dQ){dy(cb,dQ,c5)}aG();var dP=dO();e(dP);l?ag():cf()};var bY=function(){A("Call: sendAbTests");var dP=function(){var dT=bd(),dS=j(cj);return bi()+"//"+x+"/site-api/"+aO+"/"+dT+"/visit/"+dS+"/addAbVariant"};var dQ=j(bH);var dO=j(ak);if(dQ===dO||!dQ){cC();return}var dR=dP();dR=dR+"?ab="+c(dQ);var e=M.createElement("img");
e.src=dR;cC()};var a1={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(a1.Android()||a1.BlackBerry()||a1.iOS()||a1.Opera()||a1.Windows())}};var ba={isIE:function(dP,dR){var dS="IE",dO=M.createElement("B"),e=M.documentElement,dQ;if(dP){dS+=" "+dP;if(dR){dS=dR+" "+dS}}dO.innerHTML="<!--[if "+dS+']><b id="iecctest"></b><![endif]-->';e.appendChild(dO);dQ=!!M.getElementById("iecctest");e.removeChild(dO);return dQ}};var dm=function(){return cq.get(af)};var aj=function(){var e="";ct.onerror=function(dT,dS,dP,dR,dQ){var dO=!dR?"":", column: "+dR;dO+=!dQ?"":", error: "+dQ;e=e+", Error: "+dT+", url: "+dS+", line: "+dP+dO};setTimeout(function(){var dV=false,dW="";var dR=du();for(var dU=0;dU<dR.length;dU++){var dQ=dR[dU];if(dQ!==null&&!dQ.innerHTML){dV=true;dW="Promo HTML: "+dQ.innerHTML}}if(!(j(cj)>0)){dV=true;dW=dW+"; roistat_visit = "+j(cj)}if(dV){var dP=M.getElementById(ad);var dO=dP?1:0;var dS=ct.navigator.userAgent;dW=encodeURIComponent(dW);var dT=M.createElement("img");dT.src=bi()+"//"+x+"/site-api/"+aO+"/"+bd()+"/debug?message="+dW+"&agent="+dS+"&"+h()+"="+ay()+"&jserror="+e+"&scriptResponse="+dO+"&version="+ab+"&debug="+bp}},20000)};var bL=function(){var dP=M.getElementsByTagName("body");var dQ=M.documentElement;var dO=0,dR=0;if(dP.length){var e=dP[0];dO=ct.innerWidth||dQ.clientWidth||e.clientWidth;dR=ct.innerHeight||dQ.clientHeight||e.clientHeight}else{dO=ct.innerWidth||dQ.clientWidth;dR=ct.innerHeight||dQ.clientHeight}return{width:dO,height:dR}};var bg=function(){var dT=M.getElementsByClassName("roistat-promo-wrap");if(dT.length){A("PromoCode: old promo code length - exit");return}if(aQ()){A("PromoCode: Shut down because only online chat need to be inited");return}var dS=cq.getObject(aY);if(dS&&dS.hasOwnProperty("is_enabled")){ct.roistat.promoCode.isEnabled=dS.is_enabled;A("PromoCode: set is_enabled from storage")}var dQ=function(){var d0=M.createElement("div");d0.innerHTML=roistatPromoCode;var dY=M.getElementsByTagName("body");if(dY.length){dY[0].appendChild(d0)}A("PromoCode: appended to body "+roistatPromoCode.length);var dZ=M.getElementsByClassName("roistat-promo-wrap")[0];if(!dZ){A("PromoCode: roistat-promo-wrap not found, skip");return}var dX=dZ.style;var dV,dW,dU;setInterval(function(){dV=bL();dW=dZ.offsetWidth;dU=dZ.offsetHeight*2;switch(roistatPosition){case"top_left":dX.left=0;dX.top=0;break;case"top":dX.left=((dV.width-dW)/2)+"px";dX.top=0;break;case"top_right":dX.right=0;dX.top=0;break;case"left":dX.left=0;dX.top=((dV.height-dU)/2)+"px";break;case"right":dX.right=0;dX.top=((dV.height-dU)/2)+"px";break;case"bottom_left":dX.left=0;dX.bottom=0;break;case"bottom":dX.left=((dV.width-dW)/2)+"px";dX.bottom=0;break;case"bottom_right":dX.right=0;dX.bottom=0;break;default:dX.left=0;dX.top=0}},500)};var e=cq.getObject("promo_code_options");if(e){A("PromoCode: options already set");ct.roistatPromoCode=e.template;ct.roistatPosition=e.position;dQ()}else{if(!ct.roistat.promoCode.isEnabled){A("PromoCode: is not available, skip");return}var dR=M.getElementsByTagName("head")[0]||M.documentElement;var dP=M.createElement("script");dP.src=bi()+"//"+x+"/site-api/"+aO+"/"+bd()+"/getPromoCode";dR.insertBefore(dP,dR.firstChild);A("PromoCode: loading started");var dO=false;dP.onload=dP.onreadystatechange=function(){if(!dO&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){dO=true;dP.onload=dP.onreadystatechange=null;if(dR&&dP.parentNode){dR.removeChild(dP)}}if(!dO){return}A("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){A("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};cq.setObject("promo_code_options",e);dQ()}}};var aA=function(dO,dP){for(var e=0;e<dO.length;e++){if(dO[e]===dP){return true}}return false};var I=function(dO){if(!an||dO===""){return}var e=p();dw("visit: "+e+" "+dO)};var dw=function(dO){var e=S()+"/log?log="+encodeURIComponent(dO);a4(e)};var aP=function aP(){var dR=ct.onpopstate;var dS=ct.history.pushState;var e=ct.history.replaceState;am(ct,"popstate",function dQ(dT){A("[Roistat]: popstate event catch");ch();if(ai()&&typeof dR==="function"){dR(dT)}});am(ct.history,"pushState",function dP(dU,dV,dT){A("[Roistat]: pushState event catch");ch();if(ai()&&typeof dS==="function"){dS.apply(this,[dU,dV,dT])}});am(ct.history,"replaceState",function dO(dU,dV,dT){A("[Roistat]: replaceState event catch");ch();if(ai()&&typeof e==="function"){e.apply(this,[dU,dV,dT])}})};(function bV(){aP();if(ct.onRoistatModuleLoaded!==bO&&typeof ct.onRoistatModuleLoaded==="function"){ct.onRoistatModuleLoaded()}})();(function aI(){var dO="fngr.roistat.com";var dS=false;var dR=bd()==="e6b168b42cac9ce8e85d0bdde71e039a";if(!dS&&!dR){A("Fingerprint: disabled");
return}ct.roistat.crossdevice={registerFingerprint:function dP(dT){A("Fingerprint: collected data "+JSON.stringify(dT));roistat.registerOnVisitProcessedCallback(function(){A("Fingerprint: sending to service");var dU=Object.keys(dT).map(function(dW){return dT[dW].key+"="+encodeURIComponent(dT[dW].data)}).join("&");dU=dU+"&visit="+bd()+"|"+J()+"|"+roistat.getVisit();dU+="&host="+encodeURIComponent(ct.location.host);var dV=bi()+"//"+dO+"/register?"+dU;a4(dV)})},markVisit:function e(dT){A("Fingerprint: marking visit "+dT)}};A("Fingerprint: initialising library");var dQ=bi()+"//"+dO+"/static/fingerprint.js";a4(dQ)})();var bS=function(dO){var dT=function(d0,dY){var dX;if(dh(dY,"*")){var dZ=new RegExp(dY.split("*").join(".*"));dX=dZ.test(d0)}else{dX=d0===dY}A("LeadHunter: compare current: "+d0+", setting: "+dY+" with result = "+(dX?1:0));return dX};var e=ct.location.href,dQ=false,dP=false,dV="",dR=0,dU;dU=dO?dO.split(","):[];if(!e||dU.length===0){dQ=true}else{dV=aS(e);var dW;for(var dS=0;dS<dU.length;dS++){dW=dU[dS].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(dW)){if(dT(dV,dW.split(/^!/).join(""))){dP=true;break}}else{dR++;if(dT(dV,dW)){dQ=true;break}}}}if(dP){A('LeadHunter: current page "'+dV+'" is disabled by list');return false}if(!dQ&&dR>0){A('LeadHunter: current page "'+dV+'" is not listed');return false}A('LeadHunter: current page "'+e+'", cleaned: "'+dV+'" is not disabled in '+dU.length+" list of pages");return true};try{dD()}catch(cE){I(cE)}(function bf(){var ec="empty",dT=false,dO=true,d3=false;var d8={roistat_visit:j(cj),marker:bG,user_agent:ct.navigator.userAgent,current_page:{title:M.title,href:ct.location.protocol+"//"+ct.location.host+ct.location.pathname}};var ed=function(ej,ei,eh){if(ej.addEventListener){ej.addEventListener(ei,eh,false)}else{if(ej.attachEvent){ej.attachEvent("on"+ei,eh)}else{A("Handler could not be attached")}}};var d5=function(ej,eh){if(ej===bO||typeof eh!=="string"||eh.length===0){return}var ei=ej.getElementsByClassName(eh);if(ei===bO||ei.length===0){return}return ei[0]};var ee=function(eh){return typeof eh==="object"&&eh!==null};var dU=function(eh,ej,ei){if(ee(eh)){if(ei){eh.classList.add(ej);return}eh.classList.remove(ej)}};var ef=ct.visualViewport;var d2="visualViewport" in ct;var d6=function(eh){return(eh===0)?1:eh};var eg=function(){var eh;if(d2){eh=1/d6(ef.scale)}else{eh=ct.innerWidth/d6(ct.outerWidth)}return eh};var ea=function(){return"scale("+eg()+")"};var d9={leadHunter:function(){var f4="roistat-lh-form",eF="roistat-lh-form",f7="roistat-lh-head-text",eT="roistat-lh-head",eB="roistat-lh-thank-you",fk="roistat-lh-thank-you",em="roistat-lh-close",en="roistat-lh-submit",e2="roistat-lh-hidden",fJ="roistat-lh-wrap",eH="roistat-lh-popup-wrapper",fj="roistat-lh-popup",f6="roistat-lh-agreement",ff="roistat-lh-agreement roistat-lh-mobile",gm="roistat-lh-agreement-input",fV="roistat-lh-agreement-link",eh="roistat-lh-agreement-doc",f0="roistat-lh-alert-row",fr="roistat-lh-agreement",fe="roistat-lh-popup-iframe",fu="roistat_leadHunterUrl",fX="roistat_leadHunterAppearanceUrl",e6="roistat_leadHunterTargetPagesList",eA="roistat_leadHunterCaught",fB="roistat_leadHunterMinTime",eX="roistat_leadHunterAutoShowTime",fy="roistat_leadHunterPulsatorEnabled",eR="roistat_leadHunterScriptsCaught",gn="roistat_leadHunterScriptsShownCount",fc="roistat-lh-load-done",eG="roistat-lh-close-modal",fL="roistat-lh-script-settings",fK="roistat-lh-setting-size",f1="roistat-lh-before-submit",fv="roistat-lh-before-submit-done",f9="roistat-lh-after-submit",fO="roistat-lh-event-data",fP="roistat-lh-translate-form",gj={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};var ez=0.3,eL=0.001,eC=false,eO=0,eJ=0,eP=0,gb=0,eN=0,e3=false,er=false,gl=false,eM,fZ,fm,fs,fI,eS,gk,gf,fW,gi,ev,gc,fF,fn,fd,ey,ek,e1,eQ,eY,fT,f2,eV,f5,ga,e5;var ge={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var f8=function(gs){var gr=encodeURIComponent?encodeURIComponent:encodeURI;return gr(gs)};var fN=function(){if(!ct.roistat.leadHunter.isEnabled){return false}if(ct.roistatLeadHunterInited){return false}ct.roistatLeadHunterInited=true;if(cq.get(bP)<1){A("LeadHunter: disabled");return false}return true};var e0=function(){ek=cq.get(fu);if(!ek){A("LeadHunter: not active cause of empty url");return false}b6();e1=cq.get(fX);gb=cq.get(fB);eN=ct.roistat.leadHunter.form.autoShowTime===null?cq.get(eX):ct.roistat.leadHunter.form.autoShowTime;dT=cq.get(fy)==1;ej();A("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(dT?1:0));return true};var e8=function(){return cq.get(eA)>0};var ej=function(){if(!(j(ah)>0)){A("LeadHunter: not active, expired for this visit");e3=true}};var es=function(gr){gl=true;eY=fT.src;var gs={version:ab,additionalNotifyEmail:ct.roistat.leadHunter.additionalNotifyEmail,projectKey:bd(),language:al,visitId:cK(),moduleTargetOrigin:ct.location.origin,referrer:ct.location.href,windowWidth:ct.innerWidth||0,iframeWrapperWidth:fs.offsetWidth||0,sendRequestUrl:cq.get(fu),message:fc};
fT.contentWindow.postMessage(gs,eY);fA();if(gr){A("Beta Test on, iframe fired, rise up iframe show count state");el()}};var fb=function(){er=true;eq("click");es();fH()};var ep=function(){var gr=ct.location.hash;if(!gr){return}if(dh(gr,"roistat-lead-hunter")){fb()}};var e9=function ex(){A("LeadHunter: binding timeout");if(e3){A("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(eC){A("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(eN>0){var gr=(eO-cx())+eN*1000;A("LeadHunter: binding timeout with delay "+gr+" ms");clearTimeout(ge.timeoutId);ge.timeoutId=setTimeout(function(){A("LeadHunter: form auto activate with autoTime = "+eN);if(!eC){A("LeadHunter: show by timeout");er=true;eq("auto");es(true);fH()}},gr)}else{clearTimeout(ge.timeoutId);A("LeadHunter: auto show time is not positive, feature disabled")}};var fY=function(){fW.onclick=fI.onclick=fp;gi.onclick=e4;if(ee(gc)){ed(gc,"click",fg)}if(ee(fF)){ed(fF,"change",gp)}var gs=M.getElementsByClassName("roistat-lh-input");if(Array.isArray(gs)){for(var gv=0;gv<gs.length;gv++){ed(gs[gv],"keyup",function(gz){gz=gz||event;var gy=(gz.keyCode?gz.keyCode:gz.which);if(gy==13){e4()}})}}var gt=ct.onresize;ct.onresize=function(gy){if(gt){gt(gy)}f3(gy)};if(!e3){var gr=M.onmouseout;M.onmouseout=function(gy){if(gr){gr(gy)}fE(gy)}}if(dT&&!d1()&&ee(eM)){eM.onmouseover=function(){ar(eM,"roistat-lh-pulsator-hover")};eM.onmouseout=function(){ci(eM,"roistat-lh-pulsator-hover")};eM.onclick=function(){fb()};ct.addEventListener("resize",function gx(){if(ee(eM)){eM.style.transform=ea()}});if(d2){ef.addEventListener("resize",function gw(){if(ee(eM)){eM.style.transform=ea()}})}}var gu=ct.onhashchange;ct.onhashchange=function(){if(gu){gu.apply(this,arguments)}ep()}};var gh=function(){if(dT&&!d1()&&ee(eM)){eM.onmouseover=function(){ar(eM,"roistat-lh-pulsator-hover")};eM.onmouseout=function(){ci(eM,"roistat-lh-pulsator-hover")};eM.onclick=function(){fb()};ct.addEventListener("resize",function gv(){eM.style.transform=ea()});if(d2){ef.addEventListener("resize",function gu(){if(ee(eM)){eM.style.transform=ea()}})}}fI.onclick=fp;fT=M.getElementById(fe);if(ee(fT)){ed(fT,"load",function(){es();gd()})}var gs=ct.onresize;ct.onresize=function(gw){if(gs){gs(gw)}f3(gw)};if(!e3){var gr=M.onmouseout;M.onmouseout=function(gw){if(gr){gr(gw)}if(!ai()){A("ShowLimit: Beta Test off, check cursor usually");fE(gw)}else{A("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!fG()&&!eK()){A("ShowLimit: Check cursor allowed");fE(gw,true)}}}}var gt=ct.onhashchange;ct.onhashchange=function(){if(gt){gt.apply(this,arguments)}ep()}};var fo=function(gs){var gr=M.getElementsByClassName(gs);if(gr.length>0){return gr[0]}else{return null}};var fl=function(){var gu=fo("roistat-lh-title");if(ee(gu)&&roistat.leadHunter.form.title){gu.innerHTML=roistat.leadHunter.form.title}var gs=fo("roistat-lh-sub-title");if(ee(gs)&&roistat.leadHunter.form.subTitle){gs.innerHTML=roistat.leadHunter.form.subTitle}var gt=fo("roistat-lh-thank-you");if(ee(gt)&&roistat.leadHunter.form.thankYouText){gt.innerHTML=roistat.leadHunter.form.thankYouText}var gw=fo("roistat-lh-submit");if(ee(gw)&&roistat.leadHunter.form.buttonText){gw.value=roistat.leadHunter.form.buttonText}var gv=fo("roistat-lh-text-label-name");if(ee(gv)&&roistat.leadHunter.form.nameLabel){gv.innerHTML=roistat.leadHunter.form.nameLabel}var gr=fo("roistat-lh-text-label-contact");if(ee(gr)&&roistat.leadHunter.form.contactLabel){gr.innerHTML=roistat.leadHunter.form.contactLabel}};var eI=function(gs,gw,gv){var gr;if(!gs){A("LeadHunter: deactivating, empty form")}else{A("LeadHunter: rendering hidden form")}fI=M.createElement("div");fs=M.createElement("div");fs.innerHTML=gs;fI.className=e2;fs.className=e2;A("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(dT?1:0));if(gw&&dT&&gv&&!d1()){var gt=typeof gv.position==="string"&&gv.position!==""?gv.position:"bottomRight";gr=M.createElement("div");gr.innerHTML=gw;eM=gr.childNodes.item(0);fZ=eM.childNodes.item(1);fm=eM.childNodes.item(2).childNodes.item(0);fZ.setAttribute("style","background: "+gv.button.background+";");fm.setAttribute("style","fill: "+gv.button.color+";");eM.setAttribute("style","bottom: "+gj[gt].bottom+";right:"+gj[gt].right+";");eM.style.transformOrigin=gj[gt].transformOrigin;eM.style.transform=ea();ge.pulsator.previousClass=eM.className;eM.className=e2;M.body.appendChild(eM)}M.body.appendChild(fI);M.body.appendChild(fs);eS=M.getElementById(eT);gk=M.getElementById(eF);gf=M.getElementById(fk);fW=M.getElementById(em);gi=M.getElementById(en);ev=M.getElementById(f6);fF=M.getElementById(gm);gc=M.getElementById(fV);fn=M.getElementById(eh);fd=M.getElementById(f0);ey=M.getElementById(fr);var gu=fo(eH);eQ=ee(gu)&&gu.getAttribute("data-is-iframe");if(eQ){gh()}else{fl();fY();ep();gd()}};var gg=function(gt){var gs=gt.button&&gt.button.background&&gt.button.color;if(!gs){return}cq.setObject(b7,e5);var gr=typeof gt.position==="string"&&gt.position!==""?gt.position:"bottomRight";
if(ee(fZ)){fZ.setAttribute("style","background: "+gt.button.background+";")}if(ee(fm)){fm.setAttribute("style","fill: "+gt.button.color+";")}if(ee(eM)){eM.setAttribute("style","bottom: "+gj[gr].bottom+";right:"+gj[gr].right+";");eM.style.transformOrigin=gj[gr].transformOrigin;eM.style.transform=ea()}};var ew=function(){var gr=cq.get(b8),gt=cq.get(bD),gs=cq.getObject(b7);eI(cw.decode(gr),cw.decode(gt),gs)};var e7=function(){var gs=fs.clientWidth,gr=fs.clientHeight;if(ee(fs)){fs.setAttribute("style",fs.getAttribute("style")+" width: "+gs+"px; height: "+gr+"px;")}if(ee(gk)){gk.className=e2}if(ee(eS)){eS.className=e2}if(ee(ev)){ev.className=e2}if(ee(gf)){gf.setAttribute("style","width: "+gs+"px; height: "+gr+"px; display: table-cell;");gf.className=eB}setTimeout(function(){A("LeadHunter: close form after timeout");fp()},7000)};var fH=function(){var gs=Math.round((fU()-fs.clientHeight)/2);var gr=Math.round((gq()-fs.clientWidth)/2);if(ee(fs)){fs.setAttribute("style","left: "+gr+"px; top: "+Math.max(0,gs)+"px;")}};var eq=function(gs){if(ct.roistat.leadHunter.onBeforeAppear){A("LeadHunter: process user defined onBeforeAppear");ct.roistat.leadHunter.onBeforeAppear(gs);if(eQ){fA()}}if(ee(fs)){fs.setAttribute("style","left:20px;top:-20px;opacity:0");fs.className=fj}if(ee(fI)){fI.className=fJ}if(ee(gk)){gk.className=f4}if(ee(eS)){eS.className=f7}if(ee(ev)){ev.className=ff}if(ee(gf)){gf.setAttribute("style","");gf.className=e2}if(ee(fI)){fI.setAttribute("style","opacity:0;")}eC=true;setTimeout(function(){fI.setAttribute("style","opacity:.5;")},10);var gt=j(cj),gr=e1+"?visit_id="+gt+"&page="+z();X(gr);if(ct.roistat.leadHunter.onAfterAppear){A("LeadHunter: process user defined onAfterAppear");ct.roistat.leadHunter.onAfterAppear(gt,fI,fs,gk);if(eQ){fA()}}};var fM=function fq(){eO=cx();ew();A("LeadHunter: form initialized")};var gd=function fa(){A("LeadHunter: tuning appearance for page");if(!bS(cq.get(e6))||(cq.get(a3)&&!cq.get(ac))){A("LeadHunter: disabled on page");ge.leave.isShowEnabled=false;clearTimeout(ge.timeoutId);if(d1()){dO=false;dY()}if(ee(eM)){eM.className=e2}}else{A("LeadHunter: enabled on page");if(!e8()&&!ai()){A("ShowLimit: Beta Test off, bindShowOnTimeout usually");ge.leave.isShowEnabled=true;e9()}if(ai()){A("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!fG()&&!eK()){A("ShowLimit: bindShowOnTimeout allowed");ge.leave.isShowEnabled=true;e9()}}if(ee(eM)){eM.className=ge.pulsator.previousClass}}};var eU=function fD(){A("LeadHunter: processing single page application state change");eO=cx();gd()};var fS=function fh(){aD(eU);var gs=function(){var gy=M.querySelector("html"),gu=600,gx=300,gA=ct.innerWidth,gt=getComputedStyle(gy).zoom,gw={};var gv=function(){var gB=gy.style.cssText.split(";").find(function(gC){return gC.includes("--zoomLevel")});if(gB!==bO){gB=gB.split(":");if(gB.length>1){gB=parseFloat(gB[1])}else{return bO}}return gB};var gz=gv();if(gz!==bO){gt=gz}if(gA<gu&&gA>=gx){gw={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gt};fT.contentWindow.postMessage({sizeSettings:gw,message:fK,windowWidth:ct.innerWidth||0},eY);return}if(gA<gx){gw={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gt};fT.contentWindow.postMessage({sizeSettings:gw,message:fK,windowWidth:ct.innerWidth||0},eY);return}gw={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gt};fT.contentWindow.postMessage({sizeSettings:gw,message:fK,windowWidth:ct.innerWidth||0},eY)};ct.roistatLeadHunterUpdate=gs;am(ct,"load",function(){gs()});am(ct,"resize",function(){gs()});am(ct,"message",function gr(gx){var gC=typeof gx.data==="string"?gx.data:gx.data.message;if(gC===fL){f2=gx.data.scriptId;eV=gx.data.showsLimit;var gB=cq.getObject(s)!==null;if(gB){eN=gx.data.leadHunterAutoShowTime;gb=gx.data.leadHunterMinTime;e5=gx.data.leadHunterPulsatorSettings;cq.set(fB,gb);cq.set(eX,eN);if(e5){var gA=Number(e5.isEnabled);A("Leadhunter: set pulsator setting "+gA);cq.set(fy,gA);gg(e5)}}A("ShowLimit: Get lhScriptId: "+gx.data.leadHunterId+" and lhScriptMaxShownCount: "+gx.data.leadHunterMaxShownCount+" from lh widget");fx()}if(gC===eG){fp()}if(gC===fK){const gw=typeof gx.data==="object"&&gx.data.calibratingSize!==bO?gx.data.calibratingSize:true;fT.setAttribute("style","width: "+gx.data.width+"px !important; height: "+gx.data.height+"px !important;");if(gl&&!gw){fT.contentWindow.postMessage({message:fK,windowWidth:ct.innerWidth||0,calibratingSize:true},eY)}f3(gx)}if(gC===f1){var gv=gx.data.caughtLeadData;if(ct.roistat.leadHunter.onBeforeSubmit){A("LeadHunter: process user defined onBeforeSubmit");var gt=ct.roistat.leadHunter.onBeforeSubmit(gv);if(gt){gv=gt}}if(!ai()){A("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");et()}else{A("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");fz()}var gu=cq.getObject(cI);var gz=gu!==null;var gy=gz&&gv.isNeedCallback===null&&!Q(gu);if(gy){gv.isNeedCallback=0}fT.contentWindow.postMessage({caughtLead:gv,message:fv},eY)
}if(gC===f9){if(ct.roistat.leadHunter.onAfterSubmit){A("LeadHunter: process user defined onAfterSubmit");ct.roistat.leadHunter.onAfterSubmit({name:gx.data.name,phone:gx.data.phone})}}})};function fA(){var gr={apiData:ct.roistat.leadHunter.form,message:fO};fT.contentWindow.postMessage(gr,eY)}function fx(){if(!fN()){A("checkLeadHunterLaunch false");return}var gr=cq.getObject(s)!==null;if(gr){eu()}if(!e0()){A("initSettings false");return}A("LeadHunter: activated");fM();gd();fS()}function fU(){return(ct.innerHeight?ct.innerHeight:M.documentElement.clientHeight==0?M.body.clientHeight:M.documentElement.clientHeight)}function gq(){return(ct.innerWidth?ct.innerWidth:M.documentElement.clientWidth==0?M.body.clientWidth:M.documentElement.clientWidth)}function fE(gu,gr){gu=gu||event;eP=gu.clientY;var gs=eP/fU(),gw=eJ>0&&eJ>gs,gt=gs<eL,gv=(cx()-eO)>gb*1000;if(gw&&gt&&!eC&&gv&&ge.leave.isShowEnabled&&!e8()){A("LeadHunter: show modal with because move up ("+eJ+" -> "+gs+") and in modal zone and show on leave enabled");eq("exit");es(gr);fi(gu)}if(gs<ez){eJ=gs}}function f3(gr){if(er){fH()}else{gr=gr||event;fi(gr)}}function fi(gw){var gs=gw.type==="message"?gw.data.width:fs.offsetWidth;var gt=gq();var gr=gw.clientX-Math.round(gs/2)||fs.offsetLeft;gr=Math.max(20,Math.min(gr,gt-gs-20));var gx=gr+gs>gt-40;if(gx){var gu=(gr+gs-20)-(gt-40);gr=gr-gu}var gv=gt-40>gs?"":"width: "+(gs-40)+"px;";if(ee(fs)){fs.setAttribute("style","left: "+gr+"px; top: 0px; "+gv)}}function et(){ct.roistatSetCookie(eA,1,c5)}function fp(){if(!ai()){A("ShowLimit: Beta Test off, setCookieLeadHunterCaught");et()}if(ee(fI)){fI.setAttribute("style","opacity:0")}if(ee(fs)){fs.style.top="-"+fs.offsetHeight*2+"px";setTimeout(function(){fs.className=fI.className=e2},500)}}function e4(){var gF=M.getElementById("roistat-lh-phone-input"),gt=M.getElementById("roistat-lh-name-input"),gv,gD;gv=gF===null?"":gF.value;gD=gt===null?"":gt.value;var gA={name:gD,phone:gv,isNeedCallback:null,callbackPhone:null,fields:{}};if(ct.roistat.leadHunter.onBeforeSubmit){A("LeadHunter: process user defined onBeforeSubmit");var gw=ct.roistat.leadHunter.onBeforeSubmit(gA);if(gw){gA=gw}}var gC=gA.phone.length<1;var gE=gA.phone.indexOf("_")===-1;var gy=!gC&&gE;var gB=gA.name.length<1;var gs=!gB||!ct.roistat.leadHunter.form.isNameRequired;if(!gy&&ee(gF)){gF.setAttribute("style","border: 2px solid #E0571A;");return}if(!gs&&ee(gt)){gt.setAttribute("style","border: 2px solid #E0571A;");return}var gr=ek+"?v="+ab+"&lead-hunt-input="+encodeURIComponent(gA.phone)+"&lead-name="+encodeURIComponent(gA.name)+"&visit="+cK();if(gA.isNeedCallback!==null&&gA.isNeedCallback!==bO){gr=gr+"&is_need_callback="+(gA.isNeedCallback>0?1:0)}if(gA.callbackPhone){gr=gr+"&callback_phone="+gA.callbackPhone}if(ct.roistat.leadHunter.additionalNotifyEmail!==null){gr=gr+"&additional_email="+encodeURIComponent(ct.roistat.leadHunter.additionalNotifyEmail)}var gu=0;if(gA.fields&&typeof gA.fields==="object"){for(var gx in gA.fields){if(gA.fields.hasOwnProperty(gx)){++gu}}}if(gu>0){gr=gr+"&fields="+f8(JSON.stringify(gA.fields))}gr=gr+"&t="+cx();var gz=M.createElement("img");gz.src=gr;if(ee(gF)){gF.setAttribute("style","")}if(!ai()){A("ShowLimit: Beta Test off, caught LH usually");et()}else{A("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");fz()}if(!ee(gf)){fp();eZ()}else{e7()}if(ct.roistat.leadHunter.onAfterSubmit){A("LeadHunter: process user defined onAfterSubmit");ct.roistat.leadHunter.onAfterSubmit({name:gD,phone:gv})}}function fg(gr){if(gr.preventDefault){gr.preventDefault()}else{gr.returnValue=false}if(ee(fn)){fn.style.display==="block"?fn.style.display="none":fn.setAttribute("style","display: block; padding: 0 30px; width:"+fs.clientWidth+"px;")}f3()}function gp(){if(ee(gi)){gi.disabled===true?gi.disabled=false:gi.disabled=true}if(ee(fd)){fd.style.display==="block"?fd.style.display="none":fd.style.display="block"}}function eZ(){M.onmousemove=null;if(ee(fI)){fI.onresize=null}}var eW=function(gx,gA){if(!gx||!gA){A("LeadHunter: skip phone mask render due to empty input or mask");return}A("LeadHunter: render phone mask "+gA+" for input: "+gx.value);if(ct.roistatRenderPhoneMaskMutex){return}ct.roistatRenderPhoneMaskMutex=true;var gu="_",gt="x",gw="х",gv=gA.toLowerCase().split(gt).join(gu).split(gw).join(gu);var gs=function(gB){if(gx.setSelectionRange){gx.setSelectionRange(gB,gB)}else{if(gx.createTextRange){var gC=gx.createTextRange();gC.collapse(true);gC.moveEnd("character",gB);gC.moveStart("character",gB);gC.select()}}};var gy=function(gB){if(!gB){return 0}var gC=gB.indexOf(gu);if(gC<0){return gB.length}return gC};var gz=function(gB){gs(gy(gB))};var gr=function(gK){var gL=gv.split("");if(!gK){return gv}var gB=gK.split("");var gM=[],gJ,gG,gI,gF,gD,gC,gH;for(var gE=0;gE<gL.length;gE++){gG=gL[gE];if(gE>=gB.length){gM.push(gG);continue}gD=((gE+1)<gL.length)?gL[gE+1]:null;gC=((gE+1)<gB.length)?gB[gE+1]:null;gH=((gE+2)<gB.length)?gB[gE+2]:null;gJ=gB[gE];gI=parseInt(gJ)>=0;gF=(gG===gu)&&gI;if(!gF){gM.push(gG);continue
}if(gC===gu&&gD!==gu&&gH!==gD){gM.push(gG);continue}gM.push(gJ)}return gM.join("")};setTimeout(function(){var gB=gr(gx.value);if(gx.value!==gB){gx.value=gB}gz(gB);ct.roistatRenderPhoneMaskMutex=false},1)};var fR=function(gr,gt,gs){cq.set(b8,cw.encode(gr));cq.set(bD,cw.encode(gt));cq.setObject(b7,gs)};var fw=function(gr){al=gr;if(fT===bO){return}ei()};var ei=function(){var gr={language:al,message:fP};fT.contentWindow.postMessage(gr,eY)};var fz=function(){A("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gr=eD(eR);if(!gr){gr={}}A("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");gr[f2]=1;fQ(eR,gr)};var el=function(){A("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gs=eD(gn);if(!gs){gs={}}var gt=gs.hasOwnProperty(f2);if(!gt){A("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");gs[f2]=0}var gr=gs[f2]+1>eV;if(gr){A("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}A("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");gs[f2]+=1;fQ(gn,gs)};var fQ=function(gr,gs){dy(gr,JSON.stringify(gs),c5)};var eD=function(gr){var gs=j(gr);if(typeof gs!=="undefined"){return JSON.parse(gs)}return gs};var eK=function(){if(eV===0){A("ShowLimit: show limit off and set to 0");return false}var gr=eD(gn),gs=gr?gr[f2]:null,gt=gs+1>eV;A("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gt);return gt};var fG=function(){var gt=eD(eR),gr=gt?gt[f2]:null,gs=gr===1;A("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gs);return gs};var eu=function(){cq.set(a3,eo());cq.set(b8,cw.encode(fC()));cq.set(e6,eE());cq.set(fy,go())};var fC=function(){var gr=bi()+"//"+x+"/api/site/1.0/"+bd()+"/leadhunter/script/"+cq.get(a3)+"/widget?visit_id="+p();return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gr+'" frameborder="0"></iframe></div>'};var eo=function(){var gs=cq.getObject(s);if(gs===null){return}cq.set(ac,"");var gw=Number(cq.get(bP));var gA=Object.keys(gs);var gx=gA.sort()[0];if(!gw){return gx}for(var gv=0;gv<gA.length;gv++){var gB=gs[gA[gv]];var gy=gB.targetPageList;var gu=bS(gy.join(","));var gt=gy.length===0;var gr=Array.isArray(gB.devicesFilter)&&gB.devicesFilter.length>0?gB.devicesFilter.indexOf(H())!==-1:true;var gz=(gt||gu)&&gr&&(!gB.timetable.isEnabled||Q(gB.timetable));if(gz){gx=gA[gv];cq.set(ac,gx)}}return gx};var eE=function(){var gr=ft();return gr!==null?gr.targetPageList.join(","):""};var go=function(){var gr=ft();return gr!==null?Number(gr.isPulsatorEnabled):0};var ft=function(){var gr=cq.get(a3);var gs=JSON.parse(cq.get(s));return gs[gr]!==null?gs[gr]:null};cJ(fx);ct.roistatLeadHunterShow=fb;ct.roistatRenderPhoneMask=eW;ct.roistat.leadHunter.localization.translateToRussian=function(){fw(cn)};ct.roistat.leadHunter.localization.translateToEnglish=function(){fw(aC)}},multiwidget:function(){var eX="roistat-multiwidget-hidden",e7="roistat-multiwidget-pulsator-phone",e5="roistat-multiwidget-pulsator-popup-item-lead-hunter",ey="roistat-multiwidget-pulsator-fill",fa="roistat-multiwidget-pulsator-fill-svg",eO="roistat-multiwidget-pulsator-img-icon",ex="roistat-multiwidget-pulsator-popup-item-chat",ek="roistat-multiwidget-pulsator-popup-item-facebook",ep="roistat-multiwidget-pulsator-popup-item-vk",eN="roistat-multiwidget-pulsator-popup-item-telegram",eE="roistat-multiwidget-pulsator-popup-item-whats-app",eC="roistat-multiwidget-pulsator-popup-item-viber",eS="roistat-multiwidget-pulsator-items-popup-holder",eM="iframe_chat_successfully_loaded",er="roistat-multiwidget-pulsator-popup-tail",eK="roistat-online-chat-popup-wrapper",e9="roistat-online-chat-popup-wrapper-hidden",e3="roistat-multiwidget-pulsator-holder-hidden";var ew,eR,eF,e6,eh,en,e8,eJ,et,ej,eu,el,eZ,em;var eB=false;var e4={topLeft:{bottom:"unset",right:"unset",top:dH()?0:"20px",left:dH()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:dH()?0:"35px",top:dH()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:dH()?0:"20px",right:dH()?0:"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:dH()?0:"20px",right:"unset",top:"unset",left:dH()?0:"35px",transformOrigin:"bottom left"}};var eq={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var eD={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};
function eW(fc){A("Multiwidget: "+fc)}function eL(){eR=d5(ew,e7);eF=d5(ew,eS);e6=d5(ew,er);eJ=d5(eF,e5);et=d5(eF,ex);ej=d5(eF,ep);eu=d5(eF,ek);el=d5(eF,eN);eZ=d5(eF,eE);em=d5(eF,eC);eh=d5(eR,ey);en=eR.getElementsByClassName(fa);e8=d5(eR,eO)}function ez(){if(ee(eF)){eF.classList.toggle(eX)}}function e2(fc){if(ee(fc)){fc.classList.toggle("opened")}}function fb(){eW("add pulsator events");ed(eR,"click",function(){if(!eH()){ez()}e2(eR)});ed(eJ,"click",function(){eW("opening leadhunter via multiwidget");ct.roistatLeadHunterShow();ez();dU(eR,"opened",false)});ed(et,"click",function(){eW("opening online chat via multiwidget");ct.roistatOnlineChatShow();ez()});ed(ej,"click",function(){ct.open(cq.get(c0),"_blank")});ed(eu,"click",function(){ct.open(cq.get(dj),"_blank")});ed(el,"click",function(){ct.open(cq.get(by),"_blank")});ed(eZ,"click",function(){ct.open(cq.get(bN),"_blank")});ed(em,"click",function(){ct.open(cq.get(cO),"_blank")})}function eH(){var fc=d5(M,eK);return ee(fc)&&!fc.classList.contains(e9)}function eI(){return ee(eS)&&!eS.classList.contains(eX)}function eo(fc){if(ee(fc)){fc.classList.add(eX)}}function eU(fc){if(ee(fc)){fc.classList.remove(eX)}}function eP(){eo(eJ)}function eG(){eW("hiding disabled multiwidget options");var fc=Number(cq.get(bP)),fd=Number(cq.get(ca)),ff=Number(cq.get(U)),fh=Number(cq.get(cL)),fe=Number(cq.get(cW)),fg=Number(cq.get(dN));if(!fc||!dT||!dO){eW("hiding leadhunter option");eP()}if(!dX()||!eB){eW("hiding online chat option");eo(et)}if(!fd){eW("hiding vk-messenger option");eo(ej)}if(!ff){eW("hiding fb-messenger option");eo(eu)}if(!fh){eW("hiding telegram-messenger option");eo(el)}if(!fe){eW("hiding whatsApp-messenger option");eo(eZ)}if(!fg){eW("hiding Viber-messenger option");eo(em)}}function ei(){var fd=cq.getObject(f);eW("start filling pulsator");if(fd){if(ee(eh)){eh.setAttribute("style","background: "+fd.button_color+";")}if(ee(e8)){e8.setAttribute("style","fill: "+fd.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(en)){for(var fc=0;fc<en.length;fc++){en[fc].setAttribute("style","fill: "+fd.button_color+";")}}}}function eT(){var fc=cq.getObject(f);return typeof fc.position==="string"&&fc.position!==""?fc.position:"bottomRight"}function eQ(){if(ee(ew)){var fc=eT();ew.setAttribute("style","top: "+e4[fc].top+";right:"+e4[fc].right+";bottom:"+e4[fc].bottom+";left:"+e4[fc].left+";");ew.style.transformOrigin=e4[fc].transformOrigin;ew.style.transform=ea()}}function eA(){if(ee(eR)){var fc=eT();var fd=fc==="topLeft"||fc==="bottomLeft"?"margin-right":"margin-left";eR.setAttribute("style",fd+": auto")}}function eV(){if(ee(eF)){var fc=eT();eF.setAttribute("style","top: "+eq[fc].top+";right:"+eq[fc].right+";bottom:"+eq[fc].bottom+";left:"+eq[fc].left+";")}}function es(){if(ee(e6)){var fc=eT();e6.setAttribute("style","top: "+eD[fc].top+";right:"+eD[fc].right+";bottom:"+eD[fc].bottom+";left:"+eD[fc].left+";border-top-color:"+eD[fc]["border-top-color"]+";border-right-color:"+eD[fc]["border-right-color"]+";border-bottom-color:"+eD[fc]["border-bottom-color"]+";border-left-color:"+eD[fc]["border-left-color"]+";")}}function e0(){eQ();eA();eV();es()}function ev(){var fd=cw.decode(cq.get(de));if(fd){eW("appending multiwidget pulsator");var fc=M.createElement("div");fc.innerHTML=fd;ew=fc.childNodes.item(0);if(!ct.roistat.multiwidget.isVisible){eW("Hide widget");ew.className=ew.className+" "+e3}M.body.appendChild(ew);eL();eG();ei();e0();fb()}}function eY(){am(ct,"message",function fc(fg){var ff=typeof fg.data==="string"?fg.data:fg.data.message;if(ff===eM){eB=true;eU(et)}});am(ct,"resize",function fe(){if(ee(ew)){ew.style.transform=ea()}});if(d2){am(ef,"resize",function fd(){if(ee(ew)){ew.style.transform=ea()}})}}function e1(){b6();eY();eW("activated");ev()}dY=eP;cJ(e1)},onlineChat:function(){var ff="iframe-module-created",es="iframe_chat_successfully_loaded",ej="iframe-online-chat-opened",eo="iframe-online-chat-invite-message",fh="roistat-online-chat-init",fE="roistat-online-chat-reload",fq="roistat-online-chat-update-custom-params",eF="roistat-online-chat-lead_successfully_sent",fl="roistat-online-chat-translate-form",eO="roistat-online-chat-send-lead",ft="roistat_chat_id",fD="roistat_chat_session",fg="roistat_chat_custom_position",ez,et,fu,ep,eu,fr,e8,eI,e7;var e2="roistat-online-chat-popup-iframe",eL="roistat-online-chat-hidden",fv="roistat-online-chat-holder",fp="roistat-online-chat-popup-wrapper",fn="roistat-multiwidget-pulsator-phone",ek="roistat-multiwidget-pulsator-popup-item-chat",e6="roistat-online-chat-popup-wrapper-hidden",eJ="roistat-online-chat-popup-mouse-track",e1="roistat-online-chat-popup-mouse-track-active",eN="roistat-online-chat-pulsator-fill",fs="roistat-online-chat-pulsator-img",eV="roistat-online-chat-pulsator-phone",eD="roistat-online-chat-pulsator-fill-svg",e5="roistat-online-chat-popup-spacer",ey=".roistat-multiwidget-pulsator-items-popup",ew=".roistat-online-chat-pulsator-phone",eZ=".roistat-online-chat-popup-wrapper";var eK=false,eM=false,fa=0,em=0;var e3=".roistat-online-chat-holder";
var eU="roistat-online-chat-holder-hidden";if(d1()){e3=".roistat-multiwidget-pulsator-holder";eU="roistat-multiwidget-pulsator-holder-hidden"}var fy;var fC={topLeft:{bottom:"unset",right:"unset",top:dH()?0:"20px",left:dH()?0:"35px"},topRight:{bottom:"unset",right:dH()?0:"35px",top:dH()?0:"20px",left:"unset"},bottomRight:{bottom:dH()?0:"20px",right:dH()?0:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:dH()?0:"20px",right:"unset",top:"unset",left:dH()?0:"35px"}};var e4={topLeft:{top:dH()?"90px":"130px",right:"unset",bottom:"unset",left:dH()?"3%":"65px"},topRight:{top:dH()?"90px":"130px",right:dH()?"3%":"65px",bottom:"unset",left:"unset"},bottomRight:{top:"unset",right:dH()?"3%":"65px",bottom:dH()?"90px":"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:dH()?"90px":"130px",left:dH()?"3%":"65px"}};var fw={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var fe=function(fG){A("onlineChat: "+fG)};var eE=function(){function fG(){return Math.random().toString(36).substr(2,8)}return fG()+fG()+fG()+fG()};var ev=function(){var fG=cq.get(fD);if(!fG){fG=eE();cq.set(fD,fG)}return fG};var el=function(){var fG={message:ff,detail:{version:ab,language:t,projectKey:bd(),visitId:cK(),firstVisit:cq.get(a5),chatId:j(ft),moduleTargetOrigin:ct.location.origin,referrer:ct.location.href,params:d8,sessionUniqueKey:ev()}};fr.contentWindow.postMessage(fG,fr.src)};var eA=function(){var fG={message:ej,detail:{isOpened:fx()}};fr.contentWindow.postMessage(fG,fr.src)};var eC=function(){var fG={message:fq,detail:{params:d8}};fr.contentWindow.postMessage(fG,fr.src)};var eh=function(){var fG={language:t,message:fl};fr.contentWindow.postMessage(fG,fr.src)};var fm=function(){am(ct,"message",function fG(fJ){var fI=typeof fJ.data==="string"?fJ.data:fJ.data.message;var fH=typeof fJ.data!=="string"?fJ.data.detail:{};fe("event: "+fI+" "+JSON.stringify(fH));switch(fI){case es:fo();ct.setRoistatOnlineChatCustomParams=eR;eR(d8);break;case ff:el();break;case fh:fe("saving chat id = "+fH.chatId);dy(ft,fH.chatId,{path:"/"});break;case eo:fe("rendering invite message");fi(fH.message);break;case eO:fe("sending lead");eB(fH.leadData)}})};var eQ=function(){var fH=ct.roistat.onlineChat.notificationsCustomHolderSelector;var fG=fH!==null;return M.querySelector(fG?fH:e3)};var eB=function(fG){ct.roistatGoal.reach(fG,function(){fr.contentWindow.postMessage(eF,fr.src)})};var fi=function(fN){if(fx()){return}var fI="<div class='roistat-online-chat-message'><img src='"+fN.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+fN.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+fN.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var fM=M.createElement("div");fM.innerHTML=fI;var fL=eQ();if(ee(fL)){var fO=e9()?"beforeend":"afterbegin";fL.insertAdjacentHTML(fO,fI);var fK=fL.getElementsByClassName("roistat-online-chat-message-close");var fG=fL.getElementsByClassName("roistat-online-chat-message");var fJ=fK[e9()?fK.length-1:0];var fH=fG[e9()?fK.length-1:0]}setTimeout(function(){fH.remove()},15000);ed(fH,"click",function(fP){fP.stopPropagation();if(!fx()){fk()}fz()});ed(fJ,"click",function(fP){fP.stopPropagation();fH.remove()})};var fz=function(){var fH=eQ();if(ee(fH)){var fG=fH.getElementsByClassName("roistat-online-chat-message");while(fG.length>0){fG[0].remove()}}};var fB=function(){fr=M.getElementById(e2);if(ee(fr)){ed(fr,"load",function(){e0()})}ed(M,"click",function(fL){var fK=ct.roistat.onlineChat.customTriggerSelector;if(d1()){var fM=d5(M,fn);var fJ=d5(M,ek);var fI=fx()&&fL.target!==fJ&&!fJ.contains(fL.target);if(fI){dU(fM,"opened",false)}}else{var fG=d5(M,fv);var fH=fx()&&fL.target!==fG&&!fG.contains(fL.target);if(fH){dU(fG,"opened",false)}}if(fx()&&(fL.target.closest(ey)===null&&fL.target.closest(eZ)===null&&fL.target.closest(ew)===null&&(fK?fL.target.closest(fK)===null:true))){fk()}})};var ei=function(fI){var fH=fu.getBoundingClientRect().x;var fG=fu.getBoundingClientRect().y;eM=true;en();fa=fI.pageX-fH;if(e9()){em=fI.pageY+fG}else{em=fI.pageY-fG}};var eT=function(){eM=false;fj();eG()};var en=function(){if(ee(et)){et.classList.add(e1)}};var fj=function(){if(ee(et)){et.classList.remove(e1)}};var fb=function(fO){if(eM&&ee(fu)){var fG=fu.getBoundingClientRect();var fN=fG.width;var fM=400;var fH=50;var fR=0;var fJ=ct.innerHeight-fM;var fP=fO.pageX-fa;var fL=fH;var fI=ct.innerWidth-fH-fN;if(e9()){fR=ct.innerHeight-(fO.pageY+fG.y)-20}else{fR=fO.pageY-em}var fQ=fA();var fK=fQ==="bottomLeft"||fQ==="bottomRight"?"top":"bottom";if(fP>=fL&&fP<=fI){fu.style.left=fP+"px";if(!fF()){fu.style.right="unset"}}if(fR>=50&&fR<=fJ){fu.style[fK]=fR+"px"
}}};var eG=function(){var fG={position:fA(),top:fu.style.top,left:fu.style.left,bottom:fu.style.bottom,right:fu.style.right};cq.setObject(fg,fG)};var fA=function(){var fG=cq.getObject(f);var fH=typeof fG.position==="string"&&fG.position!=="";return fH?fG.position:"bottomRight"};var e9=function(){var fG=fA();return fG==="topLeft"||fG==="topRight"};var fF=function(){var fG=fA();return fG==="topLeft"||fG==="bottomLeft"};var eH=function(fH){var fG=Math.max(fH*eg(),fH)+"px";ep.style.height=fG;ep.style.marginBottom="-"+fH+"px"};var er=function(){var fK=fA();var fM=ct.roistat.onlineChat.customPosition;var fO=fM&&fM.top!==null?fM.top:e4[fK].top;var fI=fM&&fM.right!==null?fM.right:e4[fK].right;var fG=fM&&fM.bottom!==null?fM.bottom:e4[fK].bottom;var fJ=fM&&fM.left!==null?fM.left:e4[fK].left;fu=d5(ez,fp);if(ee(fu)){fu.classList.add(e6);fu.setAttribute("style","visibility: hidden;top: "+fO+";right:"+fI+";bottom:"+fG+";left:"+fJ+";");ep=d5(ez,e5);if(ee(ep)){var fN=parseInt(fO==="unset"?fG:fO);eH(fN);ct.addEventListener("resize",function fH(){eH(fN)});if(d2){ef.addEventListener("resize",function fL(){eH(fN)})}}}};var eS=function(){if(ee(et)){var fG=fA();et.setAttribute("style","top: "+fw[fG].top+";bottom:"+fw[fG].bottom+";height:"+fw[fG].height+";")}};var eP=function(){if(ee(fy)){var fG=fA();fy.setAttribute("style","top: "+fC[fG].top+";right:"+fC[fG].right+";bottom:"+fC[fG].bottom+";left:"+fC[fG].left+";")}};var eX=function(){fe("iframe appending to page");var fG=cw.decode(cq.get(D));ez=M.createElement("div");ez.innerHTML=fG;M.body.appendChild(ez);et=d5(M,eJ);er();fB()};var eY=function(){var fH=cq.getObject(f);fe("start filling pulsator");if(fH){if(ee(e8)){e8.setAttribute("style","background: "+fH.button_color+";")}if(ee(eI)){eI.setAttribute("style","fill: "+fH.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(e7)){for(var fG=0;fG<e7.length;fG++){e7[fG].setAttribute("style","fill: "+fH.button_color+";")}}}};var fo=function(){var fH=cw.decode(cq.get(bz));var fJ=!cU()&&ct.roistatOnlineChatOnly;var fI=(fH&&!d1()&&dX())||fJ;if(fI){fe("pulsator appending to page");var fG=M.createElement("div");fG.innerHTML=fH;fy=fG.childNodes.item(0);if(!ct.roistat.multiwidget.isVisible){fe("Hide widget");fy.className=fy.className+" "+eU}e8=d5(fy,eN);eI=d5(fy,fs);eu=d5(fy,eV);e7=M.getElementsByClassName(eD);M.body.appendChild(fy);eP();ex();eY()}};var ex=function(){if(ee(fy)){ed(fy,"click",function(){fk();eq(fy)})}};function eq(fG){if(ee(fG)){fG.classList.toggle("opened")}}var fx=function(){return ee(fu)&&!fu.classList.contains(e6)};var fk=function(){setTimeout(function(){eM=false},3000);if(ee(fu)){fu.classList.toggle(e6)}if(fx()){fz()}eA()};var fd=function(){var fG=eQ();if(ee(fG)){fG.classList.toggle(eU)}};var eW=function(fG){t=fG;if(!ee(fr)){return}eh()};var e0=function(){eK=true;ct.roistatOnlineChatShow=fk;ct.roistatMultiwidgetShow=fd;fe("chat window initialized")};function eR(fG){dP(fG);eC()}function fc(){b6();eX();fm()}ct.roistat.onlineChat.localization.translateToRussian=function(){eW(cn)};ct.roistat.onlineChat.localization.translateToEnglish=function(){eW(aC)};ct.roistat.onlineChat.localization.translate=function(fJ){var fI=cD[cn].includes(fJ),fH=cD[aC].includes(fJ),fG=fJ;if(fI){fG=cn}if(fH){fG=aC}eW(fG)};cJ(fc)}};function d4(eh){A("Widgets: "+eh)}function e(eh){return eh!==ec}function dP(ej){var ei=Object.keys(ej);for(var eh=0;eh<ei.length;eh++){d8[ei[eh]]=ej[ei[eh]]}}function d1(){var ep=Number(cq.get(bP)),ei=ep&&dT&&dO,et=Number(cq.get(bk)),el=dX(),eq=Number(cq.get(ca)),em=Number(cq.get(U)),eh=Number(cq.get(cL)),ek=Number(cq.get(cW)),es=Number(cq.get(dN)),er=ei||el||eq||em||eh||ek||es,ej=ei&&!el&&!eq&&!em&&!eh&&!ek&&!es,eo=el&&!ei&&!eq&&!em&&!eh&&!ek&&!es,eu=!cU()&&ct.roistatOnlineChatOnly,en=cU()&&dB();A("Is online chat only: "+eu);A("Is rp: "+eu);return et&&er&&!eo&&!ej&&!eu&&!en}function dX(){var eh=Number(cq.get(cX));if(!eh){A("OnlineChat: Online chat is disabled");return false}var ei=cq.getObject(C);if(!ei.is_available_for_current_user_agent){A("OnlineChat: Current device group is disabled");return false}if(!ei.pages_filter.is_enabled){A("OnlineChat: Pages filter is disabled");return true}return bS(ei.pages_filter.pages.join(","))}function dY(){d4("Multiwidget disabled. Hide leadhunter pulsator from module")}function dR(eh,ej,ei){cq.set(b8,cw.encode(eh));cq.set(bD,cw.encode(ej));cq.setObject(b7,ei)}function dW(ei,eh){cq.set(de,cw.encode(ei));cq.setObject(f,eh)}function dV(ej,eh,ei){cq.set(bz,cw.encode(ej));cq.set(D,cw.encode(eh));cq.set(cX,ei)}function d0(eh,ej,ei){dR(eh,ej,ei);cq.set(de,cw.encode(ec));cq.set(D,cw.encode(ec));d3=false;d9.leadHunter()}function dQ(es,eo,em){var ej=es.form_template,et=es.pulsator_template,el=es.pulsator_settings;if(dB()){d0(ej,et,el);return}d4("start initing widgets");var ep=em.pulsator_template,ek=em.iframe_template,er=eo.pulsator_template,eh=eo.pulsator_settings,en=Number(cq.get(bP)),ei=Number(em.settings.is_enabled),eq=cq.getObject(s)!==null;dR(ej,et,el);dW(er,eh);dV(ep,ek,ei);if(eq){cq.set(b8,cw.encode(dS()))
}d3=true;if(en&&!aQ()){d4("leadhunter enabled. Start processing");d9.leadHunter()}if(dX()){d4("online chat enabled. Start processing");d9.onlineChat()}if(d1()){d4("multiwidget enabled. Start processing");d9.multiwidget()}}var dS=function(){var eh=bi()+"//"+x+"/api/site/1.0/"+bd()+"/leadhunter/script/"+cq.get(a3)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+eh+'" frameborder="0"></iframe></div>'};function eb(){var ej=cq.get(b8),eu=cq.get(bD),el=cq.getObject(b7),eo=Number(cq.get(bP)),ep=cq.get(bz),ek=cq.get(D),ei=cq.get(cX),er=cq.get(de),eh=cq.getObject(f);ct.roistatLeadhunterForm=d0;ct.roistatMultiwidget=dQ;if(!ej||!eu||!el||!er||!eh||!ep){d4("requesting data from server");if(d1()||dX()||eo){a4(bi()+"//"+x+"/api/site/"+ao+"/"+bd()+"/multiwidget?domain="+encodeURIComponent(M.domain))}}else{var et=cw.decode(er);var eq=cw.decode(ek);if((!e(et)||!e(eq)||dB())&&!aQ()){d4("initing LeadHunter form");ct.roistatLeadhunterForm(cw.decode(ej),cw.decode(eu),el)}else{d4("initing multiwidget form");var em={pulsator_template:et,pulsator_settings:eh},en={form_template:cw.decode(ej),pulsator_template:cw.decode(eu),pulsator_settings:el},es={iframe_template:eq,pulsator_template:cw.decode(ep),settings:{is_enabled:Number(ei)}};ct.roistatMultiwidget(en,em,es)}}}function dZ(){eb();d4("Widgets: form initialized")}function d7(){d4("activated");dZ()}cJ(d7);ct.setRoistatOnlineChatCustomParams=dP;ct.roistatSaveLeadHunterTemplates=dR;ct.roistatSaveMultiwidgetTemplate=dW;ct.roistatSaveOnlineChatTemplate=dV})();(function u(){var d0=function(){return j(dF)};var dY=function(){return cq.get(bs)};var dR=function(){return cq.get(bF)};var d4=function(d6){return d6!=null&&d6!==bO&&d6!==""};var d3=function(){var d6=[];var d7=M.getElementsByClassName(ax);if(d7&&d7.length){d6=d7}return d6};var dP=function(){var d6=[];var d7=M.getElementsByClassName(L);if(d7&&d7.length){d6=d7}return d6};var dO=function(){var d6=[];var d7=M.getElementsByClassName(aq);if(d7&&d7.length){d6=d7}return d6};var dT=function(){var d6=[];var d7=M.getElementsByClassName(O);if(d7&&d7.length){d6=d7}return d6};var dW=function(){var d6=[];var d7=M.getElementsByClassName(dx);if(d7&&d7.length){d6=d7}return d6};var e=function(ej,d7){A("CallTracking: RenderPhone phone = "+ej);var ec=function(el){return el.split(/[^0-9]/).join("")};var ed=function(eo,eq){var et=null;if(!eo){return et}var el=eq.split(",");if(el.length<2){et=eq}else{var em=eo.getAttribute("data-prefix");if(em){for(var ep=0;ep<el.length;ep++){var er=el[ep];var es=ec(er);if(es.indexOf("8")===0){es="7"+es.substring(1)}var en=es.split(em)[0]==="";if(en){et=er;break}}}if(et===null){et=el[0]}A("CallTracking._getPhoneForElement: Prepared phone = "+et+" for data-prefix = "+em)}return et};var ea=function(ep,en){var el=ed(ep,en);if(!el||!ep){return}if(ep.tagName.toLowerCase()!=="a"){return}var eo=ep.getAttribute("href");if(dh(eo,"tel:")){var em=ec(el);if(em.indexOf("8")===0){em="7"+em.substring(1)}ep.setAttribute("href","tel:+"+em);eb(ep,el)}};var eb=function(em,el){if(!em.hasAttribute("title")){return}em.setAttribute("title",el)};var ef=function(en,em){var el=ed(en,em);if(!el||!en){return}en.innerHTML=el};var ek=function(el){var em=d3();A("CallTracking: render phone default classes for "+em.length+" elements");r(em,function(en){ef(en,el);ea(en,el)});r(dP(),function(eo){var en=ec(ed(eo,el)).slice(0,1);ef(eo,en)});r(dO(),function(eo){var ep=ed(eo,el).match(/\((.*)\)/);if(ep!==null){var en=ep[1];ef(eo,en)}});r(dT(),function(ep){var en=ed(ep,el).match(/\)(.*)/);if(en!==null){var eq=ec(en[1]);var eo=eq.slice(-1*eq.length,-4)+"-"+eq.slice(-4,-2)+"-"+eq.slice(-2);ef(ep,eo)}});r(dW(),function(en){ea(en,el)})};var ei=function(el,eq){if(!eq){return}A("CallTracking: render phone user replacement for "+eq.length+" replacements");for(var ep=0;ep<eq.length;ep++){var es=eq[ep];if(!es){continue}var en=es[0];es=es.substr(1);var er=[];if(en==="#"){var eo=M.getElementById(es);if(eo!==null){er.push(eo)}}else{er=M.getElementsByClassName(es);d9(es,el)}if(!er||er.length<1){continue}A("CallTracking: render phone for "+es+", "+er.length+" elements");for(var em=0;em<er.length;em++){ef(er[em],el);ea(er[em],el)}}};var ee=function(el){for(var em=0;em<el.length;em++){ei(el[em].phone,el[em].css_selectors);eh(el[em].phone,el[em].replaceable_numbers)}};var eh=function(en,em){if(!em||em.length===0){return}var el=function(){var ey=er();var ex=M.getElementsByTagName("*");var es=ex.length;for(var ew=0;ew<es;ew++){var ez=ex[ew];eo(ez,ey,ed(ez,en));var ev=ez.childNodes.length;for(var et=0;et<ev;et++){var eu=ez.childNodes[et];eq(eu,ey,ed(eu,en))}}};var eo=function(ew,ev,es){if(!ep(ew)){return}var ex=ew.getAttribute("href").replace("tel:","");var eu=ev.length;for(var et=0;et<eu;et++){if(ev[et].test(ex)){ea(ew,ed(ew,es))}}};var ep=function(et){if(et.tagName.toLowerCase()!=="a"){return false}var es=et.getAttribute("href");return a8(es)&&es.indexOf("tel:")===0};var er=function(){var eu=[];
for(var es=0;es<em.length;es++){var et="[\\s()[\\]{}\\-+.]*";var ev=em[es].split("").join(et);eu.push(new RegExp("[+(]?"+ev,"g"))}return eu};var eq=function(ev,eu,es){if(ev.nodeType!==Node.TEXT_NODE){return}for(var et=0;et<eu.length;et++){if(ev.textContent&&eu[et].test(ev.textContent)){ev.textContent=ev.textContent.replace(eu[et],es)}else{if(ev.innerText&&eu[et].test(ev.innerText)){ev.innerText=ev.innerText.replace(eu[et],es)}}}};el()};var d9=function(em,el){r(d8(em+"-"+bX),function(eo){var en=ec(ed(eo,el)).slice(0,1);ef(eo,en)});r(d8(em+"-"+aW),function(eo){var ep=ed(eo,el).match(/\((.*)\)/);if(ep!==null){var en=ep[1];ef(eo,en)}});r(d8(em+"-"+br),function(ep){var en=ed(ep,el).match(/\)(.*)/);if(en!==null){var eq=ec(en[1]);var eo=eq.slice(-1*eq.length,-4)+"-"+eq.slice(-4,-2)+"-"+eq.slice(-2);ef(ep,eo)}});r(d8(em+"-"+ce),function(en){ea(en,el)})};var d8=function(em){var el=[];var en=M.getElementsByClassName(em);if(en&&en.length){el=en}return el};var eg=function eg(){var em=dR();if(em){em=em.split("\n");for(var el=0;el<em.length;el++){em[el]="."+em[el]}}if(d7 instanceof Array){ee(d7)}else{ek(ej);ei(ej,em)}};(function d6(){eg();var el=[300,5000,15000];el.forEach(function(em){setTimeout(eg,em)})})()};var dQ=function(d6){cq.save(o,d6,c5)};var dZ=function(){if(ct.roistat.callTracking.phone){var d6={expires:parseInt(ct.roistat.callTracking.sessionTime),path:"/"};if(c5.domain){d6.domain=c5.domain}dy(dF,ct.roistat.callTracking.phone,d6);dQ(1);cq.save(bF,ct.roistat.callTracking.replacementClasses,c5);cq.save(bs,ct.roistat.callTracking.phoneScriptsJson,c5)}};var dX=function(d7,eb,d9,d8){A("CallTracking: reuse phone "+d7+" for time "+eb+" and replacements "+d9);var d6='script[data-roistat-script-id="'+Z+'"]';M.querySelectorAll(d6).forEach(function(ee,ed){if(ed===0){return}ee.remove()});A("CallTracking: all old scripts removed");if(!d4(d7)){A("CallTracking: new phone is invalid");roistat.callTracking.phone=null;dk();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=d7;roistat.callTracking.sessionTime=eb;roistat.callTracking.replacementClasses=d9;roistat.callTracking.phoneScriptsJson=d8;dk();dZ();var ec={expires:parseInt(eb),path:"/"};if(c5.domain){ec.domain=c5.domain}dy(dF,d7,ec);cq.save(bs,d8,c5);cq.save(bF,d9,c5);var ea=dq(d8);if(ea==null){e(d7)}else{e(d7,ea)}};var dS=function(){A("CallTracking: request new phone");var d6=j(cj);var ea=at();var d9=ea?ea:bG;var d8=encodeURIComponent(cH);var d7=S()+"/get-phone?visit="+d6+"&marker="+(d9?d9:"")+"&prefix="+cR+"&prefix_bind="+dG+"&phone_scripts_bind="+W+"&page="+d8;a4(d7,Z)};var dU=function(){cR=ct.roistatPhonePrefix?ct.roistatPhonePrefix:"";dG=ct.roistatPhonePrefixBind?ct.roistatPhonePrefixBind:"";W=ct.roistatCalltrackingScripts&&ct.roistatCalltrackingScripts.join?ct.roistatCalltrackingScripts.join(","):"";A("CallTracking: refresh phone with prefix: "+cR+", binding: "+dG+", scripts: "+W);dS()};var d5=function(){var d6=cq.get(o)>0;var d7=b9.callTrackingEnabled;return d6&&d7};var dV=function(d6){dQ(d6.is_enabled)};var d2=function d2(){var d6=d0();if(!d4(d6)){A("CallTracking: invalid phone "+d6+", requesting a new one");dS()}else{A("CallTracking: render phone "+d6);var d7=dq(dY());if(d7==null){e(d6)}else{e(d6,d7)}}};var d1=function(){A("CallTracking: init");if(aQ()){A("CallTracking: Shut down because only online chat need to be inited");return}dZ();if(!d5()){A("CallTracking: disabled, skip");return}if(b9.callTrackingManual){A("CallTracking: init finish because off manual");return}d2();aD(d2)};ct.roistatCallTrackingRefresh=dU;ct.roistatRequestNewPhone=dS;ct.roistatReusePhone=dX;ct.roistatCalltrackingUpdateSettings=dV;cJ(d1)})();(function G(){var dP=function(dV){A("Emailtracking: "+dV)};var dT=function(dV,dX,dW){cq.save(bE,dV,c5);cq.save(b,dX,c5);cq.save(bT,JSON.stringify(dW),c5)};var dO=function(){var dV=(ct.roistat.emailtracking.email&&ct.roistat.emailtracking.trackingEmail)||aX(ct.roistat.emailtracking.emails);if(ct.roistat.emailtracking.loaded&&dV){dP("save loaded email: "+ct.roistat.emailtracking.email);dT(ct.roistat.emailtracking.email,ct.roistat.emailtracking.trackingEmail,ct.roistat.emailtracking.emails)}else{dP("settings save skip, because not loaded");ct.roistat.emailtracking.email=cq.get(bE);ct.roistat.emailtracking.email=ct.roistat.emailtracking.email?ct.roistat.emailtracking.email:null;ct.roistat.emailtracking.email=ct.roistat.emailtracking.email==="null"?null:ct.roistat.emailtracking.email;dP("email loaded from storage: "+ct.roistat.emailtracking.email);ct.roistat.emailtracking.trackingEmail=cq.get(b);ct.roistat.emailtracking.trackingEmail=ct.roistat.emailtracking.trackingEmail?ct.roistat.emailtracking.trackingEmail:null;ct.roistat.emailtracking.trackingEmail=ct.roistat.emailtracking.trackingEmail==="null"?null:ct.roistat.emailtracking.trackingEmail;dP("tracking email loaded from storage: "+ct.roistat.emailtracking.trackingEmail);ct.roistat.emailtracking.emails=dq(cq.get(bT));ct.roistat.emailtracking.emails=ct.roistat.emailtracking.emails?ct.roistat.emailtracking.emails:null;
dP("emails loaded from storage: "+JSON.stringify(ct.roistat.emailtracking.emails))}};var dR=function(dV){dT(dV.email,dV.trackingEmail,dV.emails)};var dQ=function(){var dV=(!!ct.roistat.emailtracking.email&&!!ct.roistat.emailtracking.trackingEmail)||aX(ct.roistat.emailtracking.emails);return ct.roistat.emailtracking.enabled&&dV};var e=function(){if(!dQ()){dP("emailtracking disabled, skip swapping");return}var dW=function(d1,d2,d0){if(d1.href){var dZ=aK(d1.href);if(d2.test(dZ)){d1.href=dZ.replace(d2,d0);return true}}if(d1.nodeType!==3){return false}if(d1.textContent&&d2.test(d1.textContent)){d1.textContent=d1.textContent.replace(d2,d0);return true}else{if(d1.innerText&&d2.test(d1.innerText)){d1.innerText=d1.innerText.replace(d2,d0);return true}}return false};var dV=function(dZ){return dZ.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var dX=function(d1,d0){var dZ=!d0.match(/[a-z]/);return dZ?d1.toUpperCase():d1};var dY=function(d7,d9){var ea=dV(d7);var d1=new RegExp("(^|\\s)(mailto:)?("+ea+")($|\\s|\\?)","gi");var eb=function(eg,ee,ec,ed,ef){ec=ec||"";return ee+ec+dX(d9,ed)+ef};dP("starting to replace email "+d7+" to "+d9+" with regexp "+d1);var d0=M.getElementsByTagName("*");var d3=d0.length;dP("found "+d3+" nodes on page");var d6=0;for(var d5=0;d5<d3;d5++){var d2=d0[d5];var d8=d2.childNodes.length;if(d8>0){for(var d4=0;d4<d8;d4++){var dZ=d2.childNodes[d4];if(dW(dZ,d1,eb)){d6++}}}if(dW(d2,d1,eb)){d6++}}dP("successfully replaced "+d6+" nodes")};if(ct.roistat.emailtracking.emails){bv(ct.roistat.emailtracking.emails,dY)}else{dY(ct.roistat.emailtracking.email,ct.roistat.emailtracking.trackingEmail)}};var dS=function(){dP("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var dU=function(){dP("init");if(aQ()){dP("Shut down because only online chat need to be inited");return}aD(dS);dO();dS()};ct.roistatEmailtrackingUpdateSettings=dR;ct.roistat.emailtracking.refresh=e;cJ(dU)})();(function bx(){var dQ=function(dS){A("MultiDomain: "+dS)};var dP=function(){return cq.get(c7)>0};var dO=function(dW){var dX=function(dZ){if(!dZ){return false}if(dh(dZ,"roistat_visit")){return false}var dY=bh(dZ);var d1=bh(M.domain);var d0=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return dY!==d1&&d0.test(dZ)};var dV=function(d1){var d2=d1.split("#");var d0=d2[0].split("?");var dY="";var dZ="";if(d0.length===2){dY=d0[1]}if(dY){dZ="&"}dY=dY+dZ+"roistat_visit="+roistat.getVisit();d0[1]=dY;d2[0]=d0.join("?");return d2.join("#")};if(dW.tagName.toLowerCase()!=="a"){return}var dU=dW.getAttribute("href");var dT=false;if(dX(dU)){var dS=dV(dU);dQ("update url "+dU+" > "+dS);dW.setAttribute("href",dS);dT=true}return dT};var e=function(){if(!dP()){dQ("disabled, skip");return}var dS=M.getElementsByTagName("a");var dT=dS.length;dQ("found "+dT+" <a> nodes on page");var dW=0;for(var dU=0;dU<dT;dU++){var dV=dS[dU];if(dO(dV)){dW++}}dQ("replaced "+dW+" nodes")};var dR=function(){dQ("init");if(aQ()){dQ("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};cJ(dR)})();(function dg(){var e=60*1000;var dU=2*60*1000;var dO=function(dW){A("SettingsUpdater: "+dW)};var dS=function(){cq.set(af,cx())};var dT=function(){var dX=dm();var dW=!(dX>0);dO("is first update check: lastUpdateTime="+dX+", result="+(dW?1:0));return dW};var dV=function(){var dY=cx()-dU;var dX=dm();var dW=dX<=dY;dO("expiration check: _minTime="+dY+", lastUpdateTime="+dX+", result="+(dW?1:0));return dW};var dP=function(dX){var dW=j(cj);a(dW,dX)};var dQ=function(dX){dO("update settings and save last update time");var dW=cq.getObject(s)!==null;if(dW){cq.set(s,dX.js_settings.leadHunterTargetPagesMap)}ct.roistatCalltrackingUpdateSettings(dX.calltracking);ct.roistatEmailtrackingUpdateSettings(dX.emailtracking);ct.roistatSaveLeadHunterTemplates(dX.leadhunter_templates.form_template,dX.leadhunter_templates.pulsator_template,dX.leadhunter_templates.pulsator_settings);ct.roistatSaveMultiwidgetTemplate(dX.multiwidget_templates.pulsator_template,dX.multiwidget.pulsator_settings);ct.roistatSaveOnlineChatTemplate(dX.online_chat_templates.pulsator_template,dX.online_chat_templates.iframe_template);ct.roistatSaveProxyFormSettings(dX.proxy_forms);bl(dX.js_settings);c6(dX.multiwidget.multiwidget_settings);cu(dX.online_chat);w(dX.geo);cF(dX.promo_code);cl.isSettingsUpdating=false;dS()};var dR=function(){dO("init");if(dT()){dO("in first update we just start first timer and skip");dS();return}if(!dV()){dO("update is not not expired, skip");return}dO("start to update settings");dP()};cJ(function(){ct.roistatUpdateSettings=dQ;setTimeout(function(){dR()},3000);dO("set interval to update settings");setInterval(function(){dR()},e)})})();(function b2(dR,e,dT){var dQ={};var dO=function(dV){var dU=encodeURIComponent?encodeURIComponent:encodeURI;return dU(dV)};var dP=function(d1,dV){A("Reach goal start");if(!d1){d1={}
}var dY={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:cK(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var dX in dY){if(!Object.prototype.hasOwnProperty.call(dY,dX)){continue}if(!Object.prototype.hasOwnProperty.call(d1,dX)){continue}if(!d1[dX]){continue}if(dX==="fields"||dX==="client_fields"||dX==="items"||dX==="placeholders_data"){d1[dX]=JSON.stringify(d1[dX])}dY[dX]=dO(d1[dX])}var d0=bd();var dZ=bi()+"//"+x+"/api/site/"+ao+"/"+d0+"/reach-goal?v=2";for(var dW in dY){if(!Object.prototype.hasOwnProperty.call(dY,dW)){continue}dZ=dZ+"&"+dW+"="+dY[dW]}if(dV!==dT){var dU=Math.random().toString();dQ[dU]=dV;dZ+="&callback_key="+dU}a4(dZ);A("Reach goal completed")};var dS=dR.roistatGoal={reach:function(dV,dU){dP(dV,dU)},callAfterReachCallback:function(dU){if(Object.prototype.hasOwnProperty.call(dQ,dU)){dQ[dU]();delete dQ[dU]}}}})(ct,M,bO);(function dA(dP,e,dQ){var dO=function(dV){if(dV instanceof Array||dV===null||typeof dV!=="object"){A("Invalid event data");return""}var dS=[];for(var dU in dV){if(Object.prototype.hasOwnProperty.call(dV,dU)){var dT=dV[dU];if(typeof dT==="string"||typeof dT==="number"){dS.push("data["+encodeURIComponent(dU)+"]="+encodeURIComponent(dT))}else{A("Event data property ignored: "+dU)}}}return dS.length>0?"&"+dS.join("&"):""};var dR=function(dU,dV){A("Send event start");var dS=p();var dT=S()+"/event/register?visit="+dS+"&event="+dU+dO(dV);a4(dT);A("Send event completed")};dP.roistat.event={send:function(dS,dT){dR(dS,dT)}}})(ct,M,bO);(function cr(dX,dZ,dQ){if(aQ()){A("VisitApprove: Shut down because only online chat need to be inited");return}var d0=dX.roistatIsInitVisit===true?20000:10000;var dP=(new Date()).getTime();var dO=function(d4){return"approve_visit_"+d4};var dW=function(d4){cg.set(dO(d4),1)};var d1=function(d4){return cg.get(dO(d4))>0};var e,dS,d3=[];if(dZ.addEventListener){e=function(d5,d4,d6){return d5.addEventListener(d4,d6,false)};dS=function(d5,d4,d6){return d5.removeEventListener(d4,d6,false)}}else{e=function(d5,d4,d6){return d5.attachEvent("on"+d4,d6)};dS=function(d5,d4,d6){return d5.detachEvent("on"+d4,d6)}}var dV=function(d7){if(d3.length>30){return}d7=d7||dX.event;if(!d7||!d7.screenX){return}var d6=(new Date()).getTime();var d9,d8=null;if(d3.length>0){d8=d3[d3.length-1]}if(d8){d9=d6-d8.time}else{d9=d6-dP}if(d9<300){return}d9=d9-300;var eb=0;var d4=d7.screenX;var ea=d7.screenY;if(d8){eb=parseInt(Math.sqrt(Math.pow(d8.y-ea,2)+Math.pow(d8.x-d4,2)))}var d5={time:d6,pauseBeforeMove:d9,x:d4,y:ea,distance:eb};d3.push(d5)};var dU=function(){var d4=[];r(d3,function(d5){var d6=[d5.pauseBeforeMove,d5.distance];d4.push(d6.join(":"))});if(d4.length===0){d4.push("0:0")}return d4.join("|")};var dR=function(){for(var d4 in dX){if(dh(d4,"yaCounter")){return true}}return false};var dY=function(){dS(dZ,"mousemove",dV);var d4=p();A("VisitApprove: start for visit "+d4);if(d1(d4)){A("VisitApprove: visit already approved, skip");return}dW(d4);aG();var d5=S()+"/approve?v="+ab+"&visit="+d4;if(d2()){d5+="&hash="+ay()}if(dT()){d5+="&page_params="+encodeURIComponent(JSON.stringify(dX.roistat.page.params));g()}d5+="&mv="+dU();d5+="&pl="+(dX.navigator?dX.navigator.platform:"");d5+="&ym="+(dR()?"1":"0");a4(d5)};var d2=function(){var d8=cl.cookies,d7=n();var ea=bo();for(var d5=0;d5<ea.length;d5++){var d9=ea[d5];var eb=Object.prototype.hasOwnProperty.call(d8,d9)?d8[d9]:dQ;var d4=Object.prototype.hasOwnProperty.call(d7,d9)?d7[d9]:dQ;var d6=typeof d4==="string"&&d4.length>0;if(d6&&eb!==d4){return true}}return false};var dT=function(){var d9=cl.pageParams,d6=dX.roistat.page.params;for(var d5=0;d5<cS.length;d5++){var d4=cS[d5];var d7=Object.prototype.hasOwnProperty.call(d9,d4)?d9[d4]:null;var d8=Object.prototype.hasOwnProperty.call(d6,d4)?d6[d4]:null;if(d8!==d7){return true}}return false};setTimeout(function(){dY()},d0);e(dZ,"mousemove",dV)})(ct,M,bO);(function aE(dS,dT,dO){var dQ=function(){return ae("roistat_ab_demo")==="1"};var dU=function(dX){return new RegExp(dX.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var dR=function(d2){var dX=dS.location.href,d0=d2.filter,d6=d2.filterValue;var d3;switch(d0){case"except":case"pages":var dY,d5,d4=false;d5=dX?aS(dX):"";d3=d6?d6.split("\n"):[];if(d5&&d3.length!==0){for(var dZ=0;dZ<d3.length;dZ++){var d1=d3[dZ].trim();if(d1.length===0){continue}dY=dU(d1);if(dY.test(d5)){d4=true;break}}}return(d0==="pages")?d4:!d4;break;case"all":default:return true}};var e=function(dZ){var dX=dT.getElementsByTagName("head")[0],dY;dY=dT.createElement("style");dY.setAttribute("type","text/css");if(dY.styleSheet){dY.styleSheet.cssText=dZ.value}else{dY.innerText=dZ.value}dX.appendChild(dY)};var dP=function(dX){if(dR(dX)){switch(dX.type){case"css":e(dX);break}}};dS.applyTests=function(){var dX=cq.getObject("abTesting");var dZ,dY;for(dZ in dX){if(!Object.prototype.hasOwnProperty.call(dX,dZ)){continue}dY=dX[dZ];dP(dY)}};var dV=function(){A("Call: apply demo AB test");
var dX=ae("roistat_ab_data");var dY;if(dX===null){return}else{dY=JSON.parse(cw.decode(dX))}if(typeof dY!=="object"){A("Error: testValue is not an object.");return}dP(dY)};function dW(){if(aQ()){A("ABTest: Shut down because only online chat need to be inited");return}var dX=dQ();if(!dc&&!dX){applyTests()}if(dX){dV()}}dW()})(ct,M,bO);(function cP(dO,e,dP){if(aQ()){A("visitStream: Shut down because only online chat need to be inited");return}if(!df){return}setTimeout(function(){(function(dW,dV,dZ,dY,dT,dR,dU){dW[dT]={COUNTER_ID:dR,HOST:dU};var dS=dV.location.protocol=="https:"?"https://":"http://";var dQ=dV.createElement(dZ);dQ.async=1;dQ.src=dS+dU+dY;var dX=dV.getElementsByTagName(dZ)[0];dX.parentNode.insertBefore(dQ,dX)})(dO,e,"script","/counter.js","datamap",bd(),df)},1000)})(ct,M,bO);(function co(dP,e,dQ){var dR=function(){var dS=dP.roistatMetrikaCounterId;if(dS){cq.set(a6,dS)}};var dO=function(dX){var dS="yaCounter"+dX;var dW=100,dU=0,dV=60000;var dT=function(){dU+=dW;A("YandexMetrika: trying to access counter "+dX);if(dP[dS]===dQ){if(dU<dV){setTimeout(dT,dW);dW*=2}return}var dY={};dY[c2]=p();dP[dS].params(dY);A("YandexMetrika: visit id "+dY[c2]+" sent to counter "+dX)};setTimeout(dT,dW)};cJ(function(){dR();var dU=cq.get(a6);if(!dU){A("YandexMetrika: counter id not found");return}var dT=String(dU).split(",");A("YandexMetrika: counters: "+dT);for(var dS=0;dS<dT.length;dS++){if(dT[dS].trim()===""){continue}dO(dT[dS])}})})(ct,M,bO);(function az(dX,d1){var d5=function(d8){A("Proxy Forms: "+d8)};var dU=function(){if(dX.roistat.proxyForms.loaded&&dX.roistat.proxyForms.settings.length>0){d5("save loaded settings");d2(dX.roistat.proxyForms.settings)}else{d5("settings not loaded, getting from storage");dX.roistat.proxyForms.settings=cq.getObject(dz)||[]}};var d2=function(d8){cq.setObject(dz,d8)};var dY=function(){d5("init form listener");dQ(dX.roistat.proxyForms.settings);e(dX.roistat.proxyForms.settings)};var d7=function(d8){return d8.hasOwnProperty("hosts")&&d8.hasOwnProperty("is_excluding_hosts")&&bC(d8.hosts)&&d8.hosts.length>0};var dS=function(d9){if(!d7(d9)){return true}var ea=dn(d9.hosts,bh(dX.location.host));var d8=Boolean(d9.is_excluding_hosts);return d8?!ea:ea};var dP=function(d9){var d8=[];r(d9,function(ea){if(dS(ea)){d8.push(ea)}});return d8};var e=function(d8){var ea=[];r(d8,function(eb){if(eb.type==="js-button"){ea.push(eb)}});if(ea.length<1){d5("no button settings");return}var d9;if(d1.addEventListener){d9=function(eb){dT(ea,eb,eb.target,dR)};d1.addEventListener("click",d9,true)}else{if(d1.attachEvent){d9=function(){var eb=dX.event;dT(ea,eb,eb.srcElement,dR,true)};d1.attachEvent("onclick",d9)}else{d5("Listener could not be attached")}}};var dQ=function(d9){I("Proxy form debug: start");var d8=[];r(d9,function(eb){if(eb.type==="form"){d8.push(eb)}});if(d8.length<1){d5("no form settings");return}if(d1.addEventListener){var ea=function(eb){dT(d8,eb,eb.target,d6)};d1.addEventListener("submit",ea,true)}else{if(d1.attachEvent){setInterval(function(){d8=dP(d8);var eb=d1.getElementsByTagName("form");r(eb,function(ec){if(ec.getAttribute("data-roistat-proxy-form-checked")==="true"){return}ec.setAttribute("data-roistat-proxy-form-checked","true");r(d8,function(ed){if(dO(ec,ed.selector)){ec.attachEvent("onsubmit",function(){dX.event.returnValue=false;I("Proxy form debug: start sending form lead");d6(ed,dX.event.srcElement)})}})})},2000)}else{d5("Listener could not be attached")}}};var dT=function(eb,ec,ed,ea,d8){var ee=dP(eb);var d9=null;r(ee,function(ef){if(dO(ed,ef.selector)){d9=ef}});if(d9===null){d5("No matched settings found for listener");return}ea(ec,d9,ed,d8)};var d6=function(ec,ea,eb,d9){var d8=d0(eb,ea);if(!d3(d8,ea)){I("Proxy form debug: lead fields is not valid");return}d9?ec.returnValue=false:ec.preventDefault();I("Proxy form debug: sending lead");dV(d8,ea,function(){HTMLFormElement.prototype.submit.call(eb)})};var dR=function(ea,d9){var d8=d0(null,d9);if(!d3(d8,d9)){return}dV(d8,d9)};var dV=function(d8,eb,ed){var ec={};var ea=dW(eb.crm)&&eb.crm.hasOwnProperty("is_enabled");var d9=ea?eb.crm.is_enabled:true;ec.leadName=eb.hasOwnProperty("lead_name")?eb.lead_name:"Новый лид с формы "+eb.title;ec.formTitle=eb.title;ec.name=d8.name;ec.phone=d8.phone;ec.email=d8.email;ec.text=d8.comment;ec.fields=d8.fields;ec.placeholders_data=d8.placeholdersData;ec.is_need_callback=eb.is_need_callback>0?1:0;ec.is_skip_sending=!d9;dX.roistatGoal.reach(ec,ed)};var dW=function(d8){return(typeof d8==="number"&&!isNaN(d8))||(typeof d8==="string"&&d8!=="")||(typeof d8==="object"&&d8!==null)||(typeof d8==="boolean"&&d8)||bC(d8)};var d3=function(d8,ea){var d9=[],ec=["name","email","phone","comment"];r(ec,function(ed){if(ea.hasOwnProperty(ed)&&ea[ed].required>0){d9.push(ed)}});if(bC(ea.fields)){r(ea.fields,function(ed){if(ed.required>0){d9.push(ed)}})}var eb=true;r(d9,function(ed){if(!d8.hasOwnProperty(ed)||!dW(d8[ed])){eb=false}});return eb};var d0=function(ea,d9){var d8={};d8.name=d9.name?dZ(ea,d9.name.value,d9.name.type):"";d8.phone=d9.phone?dZ(ea,d9.phone.value,d9.phone.type):"";
d8.email=d9.email?dZ(ea,d9.email.value,d9.email.type):"";d8.comment=d9.comment?dZ(ea,d9.comment.value,d9.comment.type):"";d8.fields={};d8.placeholdersData={orderPage:cH};if(bC(d9.fields)){r(d9.fields,function(eb){d8.fields[eb.name]=dZ(ea,eb.value,eb.type)})}return d8};var dZ=function(d9,ec,d8){switch(d8){case"plain":return ec||"";case"input":var eb=d9.querySelector('input[name="'+ec+'"]');return eb?eb.value:"";case"js":try{return(new Function(ec))()}catch(ea){return""}}};var d4=function(){d5("init");if(aQ()){d5("Shut down because only online chat need to be inited");return}if(!dX.roistat.proxyForms.enabled){d5("disabled");return}dU();dY()};var dO=function(eb,d9){if(typeof Element!=="undefined"&&Element.prototype.matches){var d8=eb.matches(d9);if(!d8){return eb.closest(d9)?eb.closest(d9).matches(d9):false}return d8}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var ec=eb.matchesSelector(d9);if(!ec){return eb.closest(d9)?eb.closest(d9).matches(d9):false}return ec}else{if(d1.querySelectorAll){var ed=d1.querySelectorAll(d9);for(var ea=0;ea<ed.length;ea++){if(ed[ea]===eb){return true}}return false}}}return false};cJ(d4);dX.roistatSaveProxyFormSettings=d2})(ct,M);(function R(){if(ct.onRoistatAllModulesLoaded!==bO&&typeof ct.onRoistatAllModulesLoaded==="function"){A("onRoistatAllModulesLoaded: call");ct.onRoistatAllModulesLoaded()}})();(function be(dU,dX,dR){var e=function(){return cq.get(au)*1>0};var dW=function(d3){A("Request listener: "+d3)};var d2=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var dV=/^[^\s]+[@][^\s]+$/g;var dQ=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var dP=function dP(){dW("listen");if(dU.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function d5(d8){var d7=this;dY(d7.responseURL,d8,function(){d7.oldSend(d8)})}XMLHttpRequest.prototype.send=d5}if(dU.ActiveXObject){var d4=d6;function d6(d9){var d7=new d4(d9);var ea={};if(d9.toLowerCase()==="msxml2.xmlhttp"){ea={_ax:d7,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var d8="";ea._onReadyStateChange=function(){var eb=ea;return function(){eb.readyState=eb._ax.readyState;if(eb.readyState===4){eb.responseText=eb._ax.responseText;eb.responseXml=eb._ax.responseXml;eb.status=eb._ax.status;eb.statusText=eb._ax.statusText}if(eb.onReadyStateChange){eb.onReadyStateChange()}}}();ea.open=function(ef,ed,ee,eb,ec){d8=ed;ee=(ee!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(ef,ed,ee,eb,ec)};ea.send=function(eb){var ec=this;dY(d8,eb,function(){this._ax.send(eb)})}}else{ea=d7}return ea}dU.ActiveXObject=d6}if(dU.fetch){var d3=fetch;fetch=function(d7,d8){dY(d7.url,d8||{});return d3(d7,d8||{})}}dU.addEventListener("submit",function(ea){var ec=ea.target.elements;var eb={};for(var d9=0;d9<ec.length;d9++){var d8=ec[d9];var d7=d8.getAttribute("name");eb[d7]=d8.value}dY("",eb)})};function dS(d3){var d6={};if(d3.length===0){return d6}var d5=d3.split("?");if(d5.length<2){return d6}var d4=d5[1];d6=dO(d4);return d6}function dO(d4){var d5=d4.split("&"),d7={};for(var d3=0;d3<d5.length;d3++){var d6=d5[d3].split("=");if(d6.length<2){continue}d7[d6[0]]=d6[1]}return d7}function d0(ek){dW("data: "+JSON.stringify(ek));var ed={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var ea={email:"",phone:"",name:""};for(var d3 in ed){var eg=ed[d3];for(var ef in eg){if(eg.hasOwnProperty(ef)){if(ek.hasOwnProperty(eg[ef])){ea[d3]=ek[eg[ef]];break}}}}dW("new data: "+JSON.stringify(ea));var d5=ea.phone.length===0;var d9=ea.email.length===0;if(!d5&&!d9){return ea}var d4=new RegExp(dV);var d8=new RegExp(d2);var eb=Object.keys(ek);for(var eh=0;eh<eb.length;eh++){var ee=decodeURIComponent(String(ek[eb[eh]]));if(d9){var d6=ee.match(d4);if(d6&&d6.length>0){var ec=ea.email;ea.email=d6[0];dW("parsing email, before: "+ec+", after: "+ea.email)}}if(d5){var ej=ee.replace(/[\s-.()+*_—:;'"`]/g,"");var ei=ej.match(d8);if(ei&&ei.length>0){var d7=ea.phone;ea.phone=ee;dW("parsing phone, before: "+d7+", after: "+ea.phone)}}}return ea}var dT=function(d3){var d4=bh(d3);return !aA(dQ,d4)};function dY(d5,d4,d3){if(d5.length>0&&!dT(d5)){return}var d7=dS(d5);var d9=d4;if(typeof d9==="string"){d9=dO(d9)}dW("data before parsing "+JSON.stringify({get:d7,post:d9}));var d8=d0(d7);var d6=d0(d9);dW("data after parsing "+JSON.stringify({get:d8,post:d6}));dZ(d8,d6,d3)}function dZ(d3,d5,d9){var d8=d3.email.length>0?d3.email:d5.email;var d4=d3.phone.length>0?d3.phone:d5.phone;var d7=d3.name.length>0?d3.name:d5.name;if(d8.length==0&&d4.length==0){d9();return}setTimeout(function(){d9()},100);var d6={leadName:"Автоматический лид с сайта",name:d7,phone:d4,email:d8,is_skip_sending:1};dW("phone or email is not empty, reaching goal "+JSON.stringify(d6));
roistatGoal.reach(d6)}(function d1(){if(!e()){dW("disabled, skip");return}dP()})()})(ct,M,bO)})(window,document,undefined);