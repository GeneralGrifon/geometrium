/*! For license information please see tinkoff.js.LICENSE.txt */
(()=>{var e={910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FmsLogLevelEnum=void 0,function(e){e.FATAL="FATAL",e.ERROR="ERROR",e.WARN="WARN",e.INFO="INFO",e.DEBUG="DEBUG",e.TRACE="TRACE"}(t.FmsLogLevelEnum||(t.FmsLogLevelEnum={}))},425:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FmsProjectEnum=void 0,function(e){e.MPF2="EACQ-MAPI-PAY-FORM",e.MPF_IE="EACQ-MAPI-PAY-FORM-IE",e.MPA3="EACQ-MPA",e.MMS2="EACQ-MMS",e.TINKOFFJS="EACQ-TINKOFF-JS",e.E2C="EACQ-E2C",e.MMS_SALES="EACQ-MMS-SALES",e.LK2="EACQ-LK2"}(t.FmsProjectEnum||(t.FmsProjectEnum={}))},166:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDynamicMetricRecord=void 0;var r=n(160),o=n(161);t.createDynamicMetricRecord=function(e,t,n){void 0===n&&(n=!1);try{n?r.createHttpRequestOld(e,t,"create/metric"):o.createHttpRequest(e,t,"create/metric")}catch(e){}}},160:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHttpRequestOld=void 0,t.createHttpRequestOld=function(e,t,n){void 0===n&&(n="create/log");var r=new XMLHttpRequest;r.open("POST",e+n),r.setRequestHeader("Content-type","application/json; charset=utf-8"),r.responseType="text",r.send(JSON.stringify(t))}},161:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHttpRequest=void 0,t.createHttpRequest=function(e,t,n){return void 0===n&&(n="create/log"),fetch(e+n,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)})}},705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLogRecordPromise=void 0;var r=n(161);t.createLogRecordPromise=function(e,t){try{return r.createHttpRequest(e,t)}catch(e){return Promise.resolve(null)}}},377:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLogRecord=void 0;var r=n(161),o=n(160);t.createLogRecord=function(e,t,n){try{n?o.createHttpRequestOld(e,t):r.createHttpRequest(e,t)}catch(e){}}},344:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(910),t),o(n(425),t),o(n(4),t),o(n(211),t),o(n(18),t),o(n(377),t),o(n(705),t),o(n(166),t)},211:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},18:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},669:(e,t,n)=>{e.exports=n(609)},448:(e,t,n)=>{"use strict";var r=n(867),o=n(26),i=n(372),a=n(327),s=n(97),u=n(109),c=n(985),l=n(61);e.exports=function(e){return new Promise((function(t,n){var f=e.data,d=e.headers,p=e.responseType;r.isFormData(f)&&delete d["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(h+":"+g)}var v=s(e.baseURL,e.url);function y(){if(m){var r="getAllResponseHeaders"in m?u(m.getAllResponseHeaders()):null,i={data:p&&"text"!==p&&"json"!==p?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m};o(t,n,i),m=null}}if(m.open(e.method.toUpperCase(),a(v,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(y)},m.onabort=function(){m&&(n(l("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(l("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||c(v))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}"setRequestHeader"in m&&r.forEach(d,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:m.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),p&&"json"!==p&&(m.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){m&&(m.abort(),n(e),m=null)})),f||(f=null),m.send(f)}))}},609:(e,t,n)=>{"use strict";var r=n(867),o=n(849),i=n(321),a=n(185);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=s(n(655));u.Axios=i,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(263),u.CancelToken=n(972),u.isCancel=n(502),u.all=function(e){return Promise.all(e)},u.spread=n(713),u.isAxiosError=n(268),e.exports=u,e.exports.default=u},263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},972:(e,t,n)=>{"use strict";var r=n(263);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(867),o=n(327),i=n(782),a=n(572),s=n(185),u=n(875),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!r){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(i),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var f=e;n.length;){var d=n.shift(),p=n.shift();try{f=d(f)}catch(e){p(e);break}}try{o=a(f)}catch(e){return Promise.reject(e)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},782:(e,t,n)=>{"use strict";var r=n(867);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},97:(e,t,n)=>{"use strict";var r=n(793),o=n(303);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},61:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},572:(e,t,n)=>{"use strict";var r=n(867),o=n(527),i=n(502),a=n(655);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},185:(e,t,n)=>{"use strict";var r=n(867);e.exports=function(e,t){t=t||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=u(void 0,e[o])):n[o]=u(e[o],t[o])}r.forEach(o,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(i,c),r.forEach(a,(function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=u(void 0,e[o])):n[o]=u(void 0,t[o])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=o.concat(i).concat(a).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(f,c),n}},26:(e,t,n)=>{"use strict";var r=n(61);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},527:(e,t,n)=>{"use strict";var r=n(867),o=n(655);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},655:(e,t,n)=>{"use strict";var r=n(867),o=n(16),i=n(481),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(448)),u),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(a)})),e.exports=c},849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},327:(e,t,n)=>{"use strict";var r=n(867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},372:(e,t,n)=>{"use strict";var r=n(867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},985:(e,t,n)=>{"use strict";var r=n(867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16:(e,t,n)=>{"use strict";var r=n(867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},109:(e,t,n)=>{"use strict";var r=n(867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},875:(e,t,n)=>{"use strict";var r=n(593),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={},a=r.version.split(".");function s(e,t){for(var n=t?t.split("."):a,r=e.split("."),o=0;o<3;o++){if(n[o]>r[o])return!0;if(n[o]<r[o])return!1}return!1}o.transitional=function(e,t,n){var o=t&&s(t);function a(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(a(r," has been removed in "+t));return o&&!i[r]&&(i[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],u=void 0===s||a(s,i,e);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},867:(e,t,n)=>{"use strict";var r=n(849),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},206:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(n),a=Math.max(o,i),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(o,i)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var o=e[n];if(t(o,n))return o}},e.assign=function(e){for(var t,n,r=e,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=i.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(91))&&r.__esModule?r:{default:r},i=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),o=u(n(93)),i=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,o={},i=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(o[t]=a,i+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(i>0){var d=Object.keys(o),p=s.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(o[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),o=s.default.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(o,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},n=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=o.default.getMacOSVersionName(t),r={name:i.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=o.default.getAndroidVersionName(t),r={name:i.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:i.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},n=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},n=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},n=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},n=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},310:(e,t,n)=>{"use strict";e.exports=n(702).polyfill()},702:function(e,t,n){e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,a=void 0,s=function(e,t){w[o]=e,w[o+1]=t,2===(o+=2)&&(a?a(_):A())};function u(e){a=e}function c(e){s=e}var l="undefined"!=typeof window?window:void 0,f=l||{},d=f.MutationObserver||f.WebKitMutationObserver,p="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),m="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){return function(){return process.nextTick(_)}}function g(){return void 0!==i?function(){i(_)}:b()}function v(){var e=0,t=new d(_),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function y(){var e=new MessageChannel;return e.port1.onmessage=_,function(){return e.port2.postMessage(0)}}function b(){var e=setTimeout;return function(){return e(_,1)}}var w=new Array(1e3);function _(){for(var e=0;e<o;e+=2)(0,w[e])(w[e+1]),w[e]=void 0,w[e+1]=void 0;o=0}function S(){try{var e=Function("return this")().require("vertx");return i=e.runOnLoop||e.runOnContext,g()}catch(e){return b()}}var A=void 0;function P(e,t){var n=this,r=new this.constructor(M);void 0===r[E]&&z(r);var o=n._state;if(o){var i=arguments[o-1];s((function(){return V(o,r,i,n._result)}))}else W(n,r,e,t);return r}function O(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(M);return C(n,e),n}A=p?h():d?v():m?y():void 0===l?S():b();var E=Math.random().toString(36).substring(2);function M(){}var k=void 0,R=1,L=2;function F(){return new TypeError("You cannot resolve a promise with itself")}function T(){return new TypeError("A promises callback cannot return that same promise.")}function N(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function x(e,t,n){s((function(e){var r=!1,o=N(n,t,(function(n){r||(r=!0,t!==n?C(e,n):j(e,n))}),(function(t){r||(r=!0,D(e,t))}),"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,D(e,o))}),e)}function U(e,t){t._state===R?j(e,t._result):t._state===L?D(e,t._result):W(t,void 0,(function(t){return C(e,t)}),(function(t){return D(e,t)}))}function I(e,n,r){n.constructor===e.constructor&&r===P&&n.constructor.resolve===O?U(e,n):void 0===r?j(e,n):t(r)?x(e,n,r):j(e,n)}function C(t,n){if(t===n)D(t,F());else if(e(n)){var r=void 0;try{r=n.then}catch(e){return void D(t,e)}I(t,n,r)}else j(t,n)}function B(e){e._onerror&&e._onerror(e._result),G(e)}function j(e,t){e._state===k&&(e._result=t,e._state=R,0!==e._subscribers.length&&s(G,e))}function D(e,t){e._state===k&&(e._state=L,e._result=t,s(B,e))}function W(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+R]=n,o[i+L]=r,0===i&&e._state&&s(G,e)}function G(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?V(n,r,o,i):o(i);e._subscribers.length=0}}function V(e,n,r,o){var i=t(r),a=void 0,s=void 0,u=!0;if(i){try{a=r(o)}catch(e){u=!1,s=e}if(n===a)return void D(n,T())}else a=o;n._state!==k||(i&&u?C(n,a):!1===u?D(n,s):e===R?j(n,a):e===L&&D(n,a))}function q(e,t){try{t((function(t){C(e,t)}),(function(t){D(e,t)}))}catch(t){D(e,t)}}var H=0;function K(){return H++}function z(e){e[E]=H++,e._state=void 0,e._result=void 0,e._subscribers=[]}function J(){return new Error("Array Methods must be provided an Array")}var Y=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(M),this.promise[E]||z(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&j(this.promise,this._result))):D(this.promise,J())}return e.prototype._enumerate=function(e){for(var t=0;this._state===k&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===O){var o=void 0,i=void 0,a=!1;try{o=e.then}catch(e){a=!0,i=e}if(o===P&&e._state!==k)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===te){var s=new n(M);a?D(s,i):I(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===k&&(this._remaining--,e===L?D(r,n):this._result[t]=n),0===this._remaining&&j(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;W(e,void 0,(function(e){return n._settledAt(R,t,e)}),(function(e){return n._settledAt(L,t,e)}))},e}();function Q(e){return new Y(this,e).promise}function Z(e){var t=this;return r(e)?new t((function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function X(e){var t=new this(M);return D(t,e),t}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ee(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var te=function(){function e(t){this[E]=K(),this._result=this._state=void 0,this._subscribers=[],M!==t&&("function"!=typeof t&&$(),this instanceof e?q(this,t):ee())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=this,r=n.constructor;return t(e)?n.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();function ne(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=te}return te.prototype.then=P,te.all=Q,te.race=Z,te.resolve=O,te.reject=X,te._setScheduler=u,te._setAsap=c,te._asap=s,te.polyfill=ne,te.Promise=te,te}()},593:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r);var e=n(344);n(310);const t=JSON.parse('{"vU":{"WF":{"p":"Ошибка получения статуса терминала.","i":"Google Pay доступен только для рабочего терминала."},"dv":{"Dl":{"z":"Ошибка загрузки библиотеки Google Pay Api.","S":"Ошибка инициализации библиотеки Google Pay Api."},"NZ":"Указана некорректная среда работы Google Pay.","KR":"Google Merchant ID не задан."},"_w":{"cE":"Ошибка валидации мерчанта Apple Pay.","um":"Магазин не зарегистрирован в Apple Pay"},"y0":{"XK":"Ошибка: ","p":"Извините, произошла ошибка при регистрации заказа.","w9":{"W":"Неверный формат чека.","X":"Поле E-mail или Phone не должно быть пустым."},"EZ":"Ошибка получения информации о платеже."}},"um":{"dv":{"h":"Устройство не поддерживает Google Pay."},"_w":{"h":"Устройство не поддерживает Apple Pay.","I":"Нет активной карты для платежа Apple Pay."},"CH":{"l":{"T":"Tinkoff Pay","W":"Для оплаты отсканируйте QR-код камерой телефона или в приложении Тинькофф"}}},"kg":{"S1":"Инициализация виджета","FE":"Инициализация платёжный средств","HK":"Переход на платёжную форму","Z8":"Открытие платёжной формы во фрейме","pR":"Отрытие страницы результата","uO":"Отрытие страницы результата во фрейме","VU":"Открытие фрейма со страницей об ошибке","ki":"Переход на 3DS","_u":"Создание фрейма","fe":"Закрытие фрейма","fI":"Добавление фрейма на страницу","W3":{"ro":"Apple Pay не поддерживается","Yn":"Добавление платёжной кнопки Apple Pay","ax":"Создание кнопки Apple Pay","ed":"Создание сессии Apple Pay","wH":"Инициализация сессии Apple Pay","Aj":"Оплата Apple Pay отменена","AA":"Нет активной карты в Apple Pay","vU":{"yj":"Ошибка запроса ApplePayStartSession","GO":"Ошибка запроса FinishAuthorise","cN":"Ошибка запроса ApplePayMerchantInfo"}},"lk":{"Yn":"Добавление платёжной кнопки Google Pay","ro":"Google Pay не поддерживается","ax":"Создание кнопки Google Pay","vU":{"mG":"Ошибка платежа Google Pay","eI":"Ошибка создание клиента Google Pay","hJ":"Ошибка запроса готовности Google Pay","Ap":"Ошибка загрузки скрипта Google Pay","Gv":"Ошибка добавления скрипта Google Pay"}},"Bi":{"Yn":"Добавление платёжной кнопки Tinkoff Pay","No":"Открыта deepLink","vU":{"cI":"Нет наличия возможности проведения оплаты TinkoffPay по API, SDK","i7":"Ошибка запроса status","$C":"Ошибка запроса deepLink","S1":"Ошибка запроса init"}},"vU":{"Yt":"Ошибка запроса InitV1","c6":"Ошибка запроса Init","WF":"Ошибка запроса статуса терминала"}}}');var o={apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["VISA","MASTERCARD"]}}]},i={HOST_URL:"https://securepay.tinkoff.ru",ALTER_HOST_URL:"https://securepayments.tinkoff.ru",ENVIRONMENT:"production",LOGGER_URL:"https://efms.tinkoff.ru/"};var a,s,u,c,l,f,d,p,m,h=function(){try{if(-1===i.HOST_URL.indexOf("HOST_URL")&&-1===i.ALTER_HOST_URL.indexOf("ALTER_HOST_URL"))return i;throw new Error}catch(e){throw new EvalError("Internal Context Error")}}(),g={HOST_URL:h.HOST_URL,ALTER_HOST_URL:h.ALTER_HOST_URL,ENVIRONMENT:h.ENVIRONMENT,LOGGER_URL:h.LOGGER_URL},v="[AppState] FORM_LOAD",y="closed",b="closed_disable",w="opened",_="opened_disable",S="[AppState] SET_EXIT",A="exit",P={WIDGET_STYLE:g.HOST_URL+"/html/payForm/static/css/t-widget.css"},O={initURL:g.HOST_URL+"/v2/Init",initURLV1:g.HOST_URL+"/rest/Init",finishAuthorizeURL:g.HOST_URL+"/v2/FinishAuthorize",terminalStatus:g.HOST_URL+"/v2/GetTerminalStatus"},E={failURL:g.HOST_URL+"/acq/page/widget-fail",defaultURL:g.HOST_URL+"/acq/page/empty"};function M(e,t,n){var r=document.createElement("script");r.src=e,r.async=!0,r.onload=function(){return t()},r.onerror=function(){return n()},document.querySelector("body").appendChild(r)}!function(e){e.WidgetV2="Widget2.0"}(a||(a={})),function(e){e.GooglePay="GooglePay",e.ApplePay="ApplePay",e.TinkoffPay="TinkoffPay"}(s||(s={})),function(e){e.Ruble="RUB"}(u||(u={})),function(e){e.Russia="RU"}(c||(c={})),function(e){e[e.V1=0]="V1",e[e.V2=1]="V2"}(l||(l={})),function(e){e.Disabled="D",e.Demo="S",e.Production="P"}(f||(f={})),function(e){e.MassEnabled="Mass",e.AppleDeveloper="Developer"}(d||(d={})),function(e){e.Post="POST",e.Get="GET"}(p||(p={})),function(e){e.WIDGET="widget",e.PAYFORM="payForm"}(m||(m={}));var k=/(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/,R=function(){function e(){}return e.prototype.getCurrentScript=function(){if("currentScript"in document)return document.currentScript;var e,t=window.location.href.replace(/#.*$/,"").replace(/\?.*$/,"")||null,n=document.getElementsByTagName("script");if(0===n.length)return null;try{var r=new Error;if(!this.checkErrorStack(r))throw r;e=r.stack}catch(t){this.checkErrorStack(t)&&(e=t.stack)}if(!e)return null;var o=this._getScriptUrlFromStack(e),i=this._getScriptFromUrl(o,n);return!i&&t&&o===t?null:i},e.prototype.checkErrorStack=function(e){return"string"==typeof e.stack&&!!e.stack},e.prototype._getScriptFromUrl=function(e,t){var n;for(n=t.length;n--;)if(t[n].src===e)return t[n];return null},e.prototype._getScriptUrlFromStack=function(e){var t=e.match(k);return t&&t[1]?t[1]:null},e}();var L="fetch"in window;const F=function(){function t(){}return t.log=function(n,r,o){(0,e.createLogRecord)(g.LOGGER_URL,t.logBody(n,r,o),!L)},t.logSync=function(n,r,o){return(0,e.createLogRecordPromise)(g.LOGGER_URL,t.logBody(n,r,o))},t.logMetric=function(n,r){(0,e.createLogRecord)(g.LOGGER_URL,t.logBody(n,null,r),!L)},t.logBody=function(t,n,r){return{project:e.FmsProjectEnum.TINKOFFJS,level:t,message:n,metricMessage:r}},t}();function T(e){if(e)return e.preventDefault(),void(e.returnValue=!1)}function N(e,t){"opened"===t?(e.style.display="none",e.style.display+="!important;"):"none"===window.getComputedStyle(e,null).getPropertyValue("display")&&(e.style.display="");"t-close-frame-desktop"===e.className&&(t===_?(e.style.cursor="unset",e.disabled=!0,e.addEventListener("click",(function(e){return T(e)}))):(e.style.cursor="pointer",e.disabled=!1,e.removeEventListener("click",(function(e){return T(e)}))))}var x=window.location.href||"unknown",U=window.navigator.userAgent||"unknown",I=!1;function C(){return I}function B(){I=!0}function j(){I=!1}function D(e){e.style.display="none"}function W(e){e.style.display="block"}function G(e,t){var n,r,o=q();t&&(e+=function(e,t){void 0===t&&(t=!1);var n=t?function(t){return encodeURIComponent(t)+"="+encodeURIComponent(String(e[t]))}:function(t){return t+"="+e[t]};return"?"+Object.keys(e).map(n).join("&")}(t)),o?z(o,e):J(e),n=H(),r=K(),document.documentElement.classList.add("t-widget-popup"),W(n),W(r)}function V(){window.parent.postMessage(A,"*")}function q(){return document.querySelector(".t-frame")}function H(){return document.querySelector(".t-wrapper")}function K(){return document.querySelector(".t-frame-wrapper")}function z(e,t){e.src=t}function J(n){function r(e){var t=document.createElement("input");return t.className=e,t.tabIndex=-1,t.type="button",t.value="",t}void 0===n&&(n=E.defaultURL),F.log(e.FmsLogLevelEnum.INFO,{title:t.kg._u,userAgent:U,url:x},t.kg._u);var o,i,a=(o=P.WIDGET_STYLE,(i=document.createElement("link")).rel="stylesheet",i.href=o,i.type="text/css",i);document.head.appendChild(a);var s=r("t-close-frame-mobile"),u=r("t-close-frame-desktop"),c=document.createElement("div");c.className="t-button-container",c.tabIndex=-1;var l=document.createElement("div");l.className="t-frame-wrapper",l.style.display="none";var f=document.createElement("div");f.className="t-wrapper",f.style.display="none";var d=function(e){var t=document.createElement("iframe");return t.setAttribute("allowpaymentrequest","true"),t.setAttribute("allow","payment"),t.className=e,t.tabIndex=-1,t}("t-frame");function p(){F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.fe,userAgent:U,url:x},t.kg.fe),function(){var e=H(),t=K();D(e),D(t),document.documentElement.classList.remove("t-widget-popup")}(),z(q(),E.defaultURL),j()}z(d,n),c.appendChild(s),l.appendChild(u),l.appendChild(d),f.appendChild(c),f.appendChild(l),s.addEventListener("click",(function(){p(),V()})),u.addEventListener("click",(function(){p(),V()})),window.addEventListener("message",(function(e){!e.isTrusted||e.origin!==g.HOST_URL&&e.origin!==g.ALTER_HOST_URL||(e.data!==S&&e.data!==A||p(),e.data===v&&d.contentWindow.postMessage("Widget2.0","*"),e.data!==w&&e.data!==y&&e.data!==_&&e.data!==b||(N(u,e.data),N(c,e.data)))}),!1),F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.fI,userAgent:U,url:x},t.kg.fI),document.body.appendChild(f)}function Y(e){window.location.href=e}function Q(e){var t=(e=e.toString()).replace(/,/gi,"."),n=t.match(/\./g);if(null!==t.replace(/\./gi,"").match(/\D/)||n&&n.length>1)throw new Error('Значение "'+e+'" - не является числом.');if(null===n)return Number(t);var r=(Number(t)/100).toString().split(".");return r[1].length<2&&(r[1]=r[1]+"0"),Number(r[0]+r[1])}var Z=n(669),X=n.n(Z),$=g.HOST_URL+"/v2/ApplePayStartSession",ee=g.HOST_URL+"/v2/ApplePayMerchantInfo";const te=function(){function e(){this.http=X().create({headers:{"content-type":"application/json"},responseType:"json",transformResponse:[function(e){var t;try{t=JSON.parse(e)}catch(n){t=e}if(t.ErrorCode&&"0"!==t.ErrorCode||!t.Success)throw{ErrorCode:t.ErrorCode||"0",Message:t.Message,Details:t.Details};return t}]}),this.http.interceptors.response.use((function(e){return e}),(function(e){if(e.ErrorCode)throw e;return Promise.reject({status:e.response?e.response.status:e.name,statusText:e.response?e.response.statusText:e.message})}))}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.init=function(e){return this.post(O.initURL,e)},e.prototype.initV1=function(e){return this.get(O.initURLV1,e)},e.prototype.finishAuthorise=function(e){return this.post(O.finishAuthorizeURL,e)},e.prototype.getTerminalStatus=function(e){return this.get(O.terminalStatus,{TerminalKey:e})},e.prototype.ApplePayStartSession=function(e){return this.post($,e)},e.prototype.ApplePayMerchantInfo=function(e){return this.post(ee,e)},e.prototype.getTinkoffPayTerminalStatus=function(e){var t=g.HOST_URL+"/v2/TinkoffPay/terminals/".concat(e,"/status");return this.get(t,{}).then(this.getParams)},e.prototype.getTinkoffPayDeepLink=function(e,t){var n=function(e,t){return g.HOST_URL+"/v2/TinkoffPay/transactions/".concat(e,"/versions/").concat(t,"/link")}(e,t);return this.get(n,{}).then(this.getParams)},e.prototype.getParams=function(e){return e.Params},e.prototype.get=function(e,t){return this.http.get(e,{params:t}).then((function(e){return e.data}))},e.prototype.post=function(e,t){return this.http.post(e,t).then((function(e){return e.data}))},e}();var ne,re=navigator.userAgent.match(/(Android)|(BlackBerry)|(iPhone|iPad|iPod)|(Opera Mini)|(IEMobile)/i)&&function(){if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var e,t=["("," -webkit- -moz- -o- -ms- ".split(" ").join("touch-enabled),("),"heartz",")"].join("");return e=t,window.matchMedia(e).matches}(),oe=function(){function n(e){void 0===e&&(e=""),this._merchantId=e,this._apiService=te.getInstance()}return n.prototype._initPayment=function(e,t){C()||(B(),t.paymentData?(e&&(t.paymentData.DATA[e+"Web"]=!0),this._startPayment(t)):j())},n.prototype._sendInit=function(e){return this._apiService.init(e).then((function(e){return e.PaymentId}))},n.prototype._sendFA=function(e,t,n,r){var o={DATA:e.paymentData.DATA,EncryptedPaymentData:btoa(n),PaymentId:t,Source:r,TerminalKey:e.paymentData.TerminalKey};return o.DATA.referrer_url=window.location.hostname,e.infoEmail&&(o.SendEmail=!0,o.InfoEmail=e.infoEmail),this._apiService.finishAuthorise(o)},n.prototype._showErrorPopup=function(n){F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.VU,userAgent:U,url:x},t.kg.VU),n?G(E.failURL,{language:n}):G(E.failURL)},n}(),ie=(ne=function(e,t){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ne(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ne(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const ae=function(n){function r(e){var t=n.call(this,e.merchantInfo.MerchantId)||this;return t._applePayVersion=1,t._mirSupportsVersion=11,t._supportsMir=!1,t._paymentLabel=e.merchantInfo.MerchantName,t._buttonOptions=e.buttonOptions,t}return ie(r,n),r.prototype.createPaymentButton=function(n){var r=this;F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.W3.ax,userAgent:U,url:x},t.kg.W3.ax);var o=document.createElement("button");o.setAttribute("type","button"),this._buttonOptions.lang&&o.setAttribute("lang",this._buttonOptions.lang);var i=["apple-pay-button"];return this._buttonOptions.color&&i.push("apple-pay-button-"+this._buttonOptions.color),this._buttonOptions.outline&&i.push("apple-pay-button-line"),o.className=i.join(" "),o.style.setProperty("-apple-pay-button-type",this._buttonOptions.type||"plain"),o.addEventListener("click",(function(){return r._initPayment(s.ApplePay,n())})),o},r.prototype._getPaymentRequest=function(e){var t=["masterCard","visa"];return this._supportsMir&&t.push("mir"),{countryCode:c.Russia,currencyCode:u.Ruble,supportedNetworks:t,merchantCapabilities:["supports3DS"],total:{type:"final",label:this._paymentLabel,amount:(e.paymentData.Amount/100).toString()}}},r.prototype._startPayment=function(n){var r=this;F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.W3.ed,userAgent:U,url:x},t.kg.W3.ed),this.enableMirSupport();var o=new window.ApplePaySession(this._applePayVersion,this._getPaymentRequest(n));this._sendInit(n.paymentData).then((function(e){r._startApplePaySession(o,n,e)})).catch((function(e){r._showErrorPopup(n.paymentData.Language),j()}))},r.prototype._startApplePaySession=function(n,r,o){var i=this;F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.W3.wH,userAgent:U,url:x},t.kg.W3.wH),n.onvalidatemerchant=function(a){var s={TerminalKey:r.paymentData.TerminalKey,ValidationURL:a.validationURL,PaymentId:o,RegistrationType:d.MassEnabled};i._apiService.ApplePayStartSession(s).then((function(e){n&&n.completeMerchantValidation(e.ValidationResult)})).catch((function(o){F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.W3.vU.yj,error:o}),n&&(o.hasOwnProperty("ErrorCode")&&console.error(t.vU._w.cE),setTimeout((function(){F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.W3.vU.yj,userAgent:U,url:x},t.kg.W3.vU.yj),i._showErrorPopup(r.paymentData.Language),n.abort(),j()}),3e3))}))},n.onpaymentauthorized=function(a){i._sendFA(r,o,JSON.stringify(a.payment.token.paymentData),s.ApplePay).then((function(r){n&&(n.completePayment(window.ApplePaySession.STATUS_SUCCESS),setTimeout((function(){F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.pR,userAgent:U,url:x},t.kg.pR),Y(r.BackUrl),j()}),3e3))})).catch((function(o){F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.W3.vU.GO,error:o}),n&&(n.completePayment(window.ApplePaySession.STATUS_FAILURE),setTimeout((function(){F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.pR,userAgent:U,url:x},t.kg.W3.vU.GO),i._showErrorPopup(r.paymentData.Language),j()}),3e3))}))},n.oncancel=function(r){F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.W3.Aj,userAgent:U,url:x},t.kg.W3.Aj),j(),n=null},n.begin()},r.prototype.enableMirSupport=function(){window.ApplePaySession.supportsVersion(this._mirSupportsVersion)&&(this._applePayVersion=this._mirSupportsVersion,this._supportsMir=!0)},r}(oe);function se(e,t,n){void 0===n&&(n="hidden");var r=document.createElement("input");return r.type=n,r.value=e,r.name=t,r}var ue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ce=function(){return ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ce.apply(this,arguments)};const le=function(n){function r(e,t){var r=n.call(this,e.merchantId)||this;return r._paymentsClient=t,r._buttonCommonOptions={onClick:null},e.buttonColor&&(r._buttonCommonOptions.buttonColor=e.buttonColor),e.buttonType&&(r._buttonCommonOptions.buttonType=e.buttonType),r}return ue(r,n),r.prototype.createPaymentButton=function(n){var r=this;F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.lk.ax,userAgent:U,url:x},t.kg.lk.ax);var o=ce(ce({},this._buttonCommonOptions),{onClick:function(){return r._initPayment(s.GooglePay,n())}});return this._paymentsClient.createButton(o)},r.prototype._getPaymentRequest=function(e){var t=ce(ce({},o),{transactionInfo:{currencyCode:u.Ruble,totalPrice:(e.paymentData.Amount/100).toString(),totalPriceStatus:"FINAL"}});return t.allowedPaymentMethods[0].tokenizationSpecification={type:"PAYMENT_GATEWAY",parameters:{gateway:"tinkoff",gatewayMerchantId:e.paymentData.TerminalKey}},this._merchantId&&(t.merchantInfo={merchantId:this._merchantId}),t},r.prototype._startPayment=function(n){var r=this;this._sendInit(n.paymentData).then((function(e){return r._paymentsClient.loadPaymentData(r._getPaymentRequest(n)).then((function(t){return n.paymentData.DATA.GooglePaySource=m.WIDGET,r._sendFA(n,e,t.paymentMethodData.tokenizationData.token,s.GooglePay)}))})).then((function(r){if(Y(r.BackUrl),r.BackUrl&&(!n.paymentData.Frame||re?(F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.pR,userAgent:U,url:x},t.kg.pR),Y(r.BackUrl)):(F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.uO,userAgent:U,url:x},t.kg.uO),G(r.BackUrl))),r.ACSUrl){F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.ki,userAgent:U,url:x},t.kg.ki);var o=function(e){var t=document.createElement("form");t.action=e.ACSUrl,t.method=p.Post;for(var n={MD:e.MD,PaReq:e.PaReq,TermUrl:e.TermUrl},r=0,o=Object.keys(n);r<o.length;r++){var i=o[r],a=n[i];a&&t.append(se(a,i))}return t.style.display="none",t}(r);document.body.append(o),o.submit()}j()})).catch((function(o){F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.lk.vU.mG,error:o},t.kg.lk.vU.mG),r._showErrorPopup(n.paymentData.Language),j()}))},r}(oe);var fe,de;!function(e){e.WINDOWS="Windows",e.MACOS="Mac",e.LINUX="Linux",e.ANDROID="Android",e.IOS="iOS",e.WINDOWS_PHONE="Windows Phone",e.UNKNOWN="Unknown OS"}(fe||(fe={})),function(e){e.MOBILE="Mobile",e.DESKTOP="Desktop"}(de||(de={}));const pe=["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(wv|Version/)","Linux; U; Android"];var me=n(206),he=n.n(me);var ge="desktop"===me.parse(navigator.userAgent).platform.type;var ve=function(){return"ontouchstart"in window.document.documentElement||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||null!==window.navigator.userAgent.match(/android|iphone|ipad|ipod/i)},ye=function(){var e=navigator.userAgent.toLowerCase(),t=navigator.maxTouchPoints,n=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e);return/Macintosh/i.test(e)&&t&&t>1||n},be=function(){function n(){}return n.prototype.openLink=function(n,r){var o=navigator.userAgent.toLowerCase().indexOf("android")>-1&&!r?this.makeAndroidLink(n):n;F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.Bi.No,userAgent:U,url:x},t.kg.Bi.No),document.location.href=o},n.prototype.makeAndroidLink=function(e){var t="production"===g.ENVIRONMENT?"com.idamob.tinkoff.android":"com.idamob.tinkoff.android.qa",n=e.split("://"),r=n[0],o=n[1];return"intent://".concat(o,"#Intent;package=").concat(t,";scheme=").concat(r,";end")},n}(),we=function(){function e(e){void 0===e&&(e="/html/payForm/static/img/qr-skeleton-black.svg"),this.qrCodeSvg=e,this.modal=document.createElement("div"),this.modal.classList.add("t-qr-modal"),this.modal.style.display="none";var n=document.createElement("div");n.classList.add("t-qr-modal-title"),n.innerText=t.um.CH.l.T;var r=document.createElement("div");r.classList.add("t-qr-modal-description"),r.innerText=t.um.CH.l.W;var o=document.createElement("img");o.classList.add("t-qr-modal-qr"),o.src=this.qrCodeSvg,this.closeButton=document.createElement("input"),this.closeButton.classList.add("t-close-frame-desktop"),this.closeButton.type="button",this.modal.appendChild(n),this.modal.appendChild(r),this.modal.appendChild(o),this.modal.appendChild(this.closeButton),this.wrapper=H(),this.wrapper.appendChild(this.modal)}return e.prototype.showModal=function(){W(this.modal),W(this.wrapper),document.addEventListener("click",this.hideModal.bind(this)),this.closeButton.addEventListener("click",this.hideModal.bind(this))},e.prototype.hideModal=function(e){e.stopPropagation();var t=e.target;this.modal.contains(t)&&!this.closeButton.contains(t)||(this.wrapper.removeChild(this.modal),D(this.wrapper),document.removeEventListener("click",this.hideModal),this.closeButton.removeEventListener("click",this.hideModal))},e}(),_e=function(){this.button=document.createElement("button"),this.button.setAttribute("type","button"),this.button.className="tinkoff-pay-button"},Se=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ae=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Pe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Oe=function(n){function r(e){var t=n.call(this)||this;return t.payVersion=e,t.deepLinkService=new be,t}return Se(r,n),r.prototype.createPaymentButton=function(e){var t=this,n=(new _e).button;return n.addEventListener("click",(function(){return t._initPayment(s.TinkoffPay,e())})),n},r.prototype._startPayment=function(e){this.sendPayment(e)},r.prototype._getPaymentRequest=function(e){},r.prototype.sendPayment=function(n){return Ae(this,void 0,void 0,(function(){var r,o,i,a,s;return Pe(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),n.paymentData.DATA=Object.assign(n.paymentData.DATA,this.prepareDeviceData()),[4,this._apiService.init(n.paymentData)];case 1:return i=u.sent(),r=i.PaymentId,[3,3];case 2:return o=u.sent(),console.error(o),F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.Bi.vU.S1,error:o},t.kg.Bi.vU.S1),j(),[2];case 3:return u.trys.push([3,5,,6]),[4,this._apiService.getTinkoffPayDeepLink(r,this.payVersion)];case 4:return i=u.sent(),!(a="2.0"===this.payVersion)||ve()&&!ye()?this.deepLinkService.openLink(i.RedirectUrl,a):new we(i.WebQR).showModal(),j(),[3,6];case 5:return s=u.sent(),console.error(s),F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.Bi.vU.$C,error:s},t.kg.Bi.vU.$C),j(),[3,6];case 6:return[2]}}))}))},r.prototype.prepareDeviceData=function(){var e,t,n={};return re&&(n.Device=de.MOBILE),ge&&(n.Device=de.DESKTOP),n.DeviceOs=(e=he().getParser(navigator.userAgent).getOSName(),t=fe.UNKNOWN,"macOS"===e&&(t=fe.MACOS),Object.values(fe).includes(e)&&(t=e),t),n.DeviceBrowser=he().getParser(navigator.userAgent).getBrowserName(),n.DeviceWebView=function(e){void 0===e&&(e=navigator.userAgent);var t=new RegExp("("+pe.join("|")+")","ig");return!!e.match(t)}(),n},r}(oe);const Ee=Oe;var Me=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ke=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Re(e){var t=Ne(e.email),n=Ne(e.phone),r=Ne(e.name),o=Ne(e.receipt),i=Ne(e.DATA),a=Ne(e.description),s=Ne(e.order),u=Ne(e.amount),c=Ne(e.frame),l=Ne(e.terminalkey),f=Ne(e.language),d=xe(Ne(e.reccurentPayment)),p=Ne(e.customerKey),m={Amount:Te(u),Description:a,Frame:xe(c),OrderId:s,TerminalKey:l,DATA:i,Language:f};if(o&&(m.Receipt=o),d){if(!p)return alert("При использовании реккурентного платежа поле customerKey не должно быть пустым"),null;m.Recurrent="Y",m.CustomerKey=p}return Fe(m,t,n,r)?([["Email",t],["Phone",n],["Name",r]].filter((function(e){return!!e[1]})).forEach((function(e){m.DATA[e[0]]=e[1]})),m):null}function Le(e){var t=e.Email,n=e.Phone,r=e.Name;return delete e.Name,delete e.Email,delete e.Phone,Fe(e,t,n,r)?e:null}function Fe(n,r,o,i){try{n.Amount=Q(n.Amount)}catch(t){return F.log(e.FmsLogLevelEnum.ERROR,{title:"Ошибка получения суммы платежа"}),console.error(t),!1}var s;if(n.DATA=s=(s=n.DATA)?"string"==typeof s?function(e,t){try{return JSON.parse(e)}catch(r){var n={};return e.split(t).forEach((function(e){var t=e.split("="),r=t[0].trim();t.length>0&&r&&(n[r]=t[1])})),n}}(s,"|"):s:{},n.DATA.connection_type=a.WidgetV2,n.OrderId=n.OrderId||(new Date).getTime().toString(),n.Receipt){if("string"==typeof n.Receipt)try{n.Receipt=JSON.parse(n.Receipt)}catch(n){return F.log(e.FmsLogLevelEnum.ERROR,{title:"Некорректный формат чека"}),console.error(t.vU.y0.XK+t.vU.y0.w9.W),!1}if(n.Receipt.Email=r||n.Receipt.Email,n.Receipt.Phone=o||n.Receipt.Phone,!n.Receipt.Email&&!n.Receipt.Phone)return console.error(t.vU.y0.XK+t.vU.y0.w9.X),!1}return!0}function Te(e){return 100*Number(e.replace(/,/gi,"."))}function Ne(e){return console.log(e),e?e.value:""}function xe(e){return"true"===e.toLowerCase()}var Ue=function(){function n(){var n,r=this;this._apiService=te.getInstance(),window.__TinkoffNormalizeMoney=function(e){return Q(e)},window.doPay=function(e){return r.doPay(e)},window.pay=function(e){return r.pay(e)},window.initPayments=function(e){return r.initPayments(e)},this._widgetVersion=(n=(new R).getCurrentScript()).src?n.src.indexOf("tinkoff_v2.js")>-1?l.V2:n.src.indexOf("tinkoff.js")>-1?l.V1:null:null,F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.S1,userAgent:U,url:x},t.kg.S1),"complete"!==document.readyState?window.addEventListener("load",(function(){q()||J()})):J()}return n.prototype.initPayments=function(n){var r=this;F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.FE,userAgent:U,url:x},t.kg.FE),this._terminalKey=n.terminalKey;var o=n.paymentSystems.GooglePay,i=n.paymentSystems.ApplePay,a=n.paymentSystems.TinkoffPay,s=n.paymentSystems.TinkoffFps;if(n.paymentSystems&&(o||i||a||s))if(n.paymentItems){n.paymentItems.forEach((function(e){e.paymentInfo=r._getPaymentInfoFn(e.paymentInfo)}));var u=function(e,o){e.call(r,o).then((function(e){if(e)for(var r=0,o=n.paymentItems;r<o.length;r++){var i=o[r];if(i.paymentInfo){var a=e.createPaymentButton(i.paymentInfo);i.container.appendChild(a)}else console.error(t.vU.y0.EZ)}}))};if(o&&(F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.lk.Yn,userAgent:U,url:x},t.kg.lk.Yn),u(this.initGooglePay,o)),i&&(F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.W3.Yn,userAgent:U,url:x},t.kg.W3.Yn),u(this.initApplePay,i)),a&&(F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.Bi.Yn,userAgent:U,url:x},t.kg.Bi.Yn),u(this.initTinkoffPay,a)),s){var c=n.paymentItems.map((function(e){return{containerId:e.container.id,paymentFn:e.paymentInfo}}));this.addTinkoffFpsScript(c)}}else{var l={container:document.getElementById(n.container),paymentInfo:this._getPaymentInfoFn(n.paymentInfo)},f=function(e,n){var o=r._getPaymentInfoFn(n.paymentInfo);l.paymentInfo||o?e.call(r,n).then((function(e){if(e){var t=e.createPaymentButton(o||l.paymentInfo);l.container.appendChild(t)}})):console.error(t.vU.y0.EZ)};if(o&&f(this.initGooglePay,o),i&&f(this.initApplePay,i),a&&f(this.initTinkoffPay,a),s){var d=this._getPaymentInfoFn(s.paymentInfo),p=[{containerId:l.container.id,paymentFn:d}];this.addTinkoffFpsScript(p)}}},n.prototype.doPay=function(e){C()||(B(),this._widgetVersion!==l.V1?(e=Le(e))?this.createPayment(e):j():this.payV1(e))},n.prototype.pay=function(e){if(!C())if(B(),this._widgetVersion!==l.V1){var t=Re(e);t?this.createPayment(t):j()}else this.payV1(function(e){var t=Ne(e.email),n=Ne(e.phone),r=Ne(e.name),o=Ne(e.description),i=Ne(e.order),a=Ne(e.amount),s=Ne(e.frame),u=Ne(e.terminalkey),c=Ne(e.language),l=xe(Ne(e.reccurentPayment)),f=Ne(e.customerKey),d={Amount:Te(a),Description:o,Frame:xe(s),OrderId:i,DATA:"Email="+t+"|Phone="+n+"|Name="+r,TerminalKey:u,Language:c};if(l){if(!f)return alert("При использовании реккурентного платежа поле customerKey не должно быть пустым"),null;d.Recurrent="Y",d.CustomerKey=f}return d}(e))},n.prototype.payV1=function(n){try{n.Amount=Q(n.Amount)}catch(t){return F.log(e.FmsLogLevelEnum.ERROR,{title:"Ошибка получения суммы платежа"}),console.error(t),void j()}n.DATA?n.DATA+="|Connection_type=Widget2.0":n.DATA="Connection_type=Widget2.0",n.OrderId=n.OrderId||(new Date).getTime().toString(),this._apiService.initV1(n).then((function(r){var o=r.PaymentURL;!n.Frame||re?(F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.HK,userAgent:U,url:x},t.kg.HK),Y(o)):(F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.Z8,userAgent:U,url:x},t.kg.Z8),G(o)),j()})).catch((function(n){F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.vU.Yt,error:n},t.kg.vU.Yt),j(),alert(t.vU.y0.p+" "+t.vU.y0.XK+JSON.stringify(n))}))},n.prototype.initGooglePay=function(n){return Me(this,void 0,void 0,(function(){var r,i,a;return ke(this,(function(s){switch(s.label){case 0:if(!n)return[2,null];if("TEST"!==(r=n.environment||"TEST")&&"PRODUCTION"!==r)return console.error(t.vU.dv.NZ),[2,null];if("PRODUCTION"===r&&!n.merchantId)return console.error(t.vU.dv.KR),[2,null];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._apiService.getTerminalStatus(this._terminalKey).then((function(e){return e.TerminalStatus}))];case 2:return(i=s.sent())&&i===f.Production?[3,4]:(console.error(t.vU.WF.i),[2,null]);case 3:return a=s.sent(),F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.vU.WF,error:a},t.kg.vU.WF),console.error(t.vU.WF.p),[2,null];case 4:return[2,new Promise((function(i,a){try{M("https://pay.google.com/gp/p/js/pay.js",(function(){var a=new window.google.payments.api.PaymentsClient({environment:r});a||(F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.lk.vU.eI,environment:r},t.kg.lk.vU.eI),console.error(t.vU.dv.Dl.S),i(null)),a.isReadyToPay(o).then((function(r){r.result||(F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.lk.ro,userAgent:U,url:x},t.kg.lk.ro),console.info(t.um.dv.h),i(null)),i(new le(n,a))})).catch((function(n){F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.lk.vU.hJ,error:n},t.kg.lk.vU.hJ),console.error(t.vU.dv.Dl.S),i(null)}))}),(function(){F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.lk.vU.Ap,userAgent:U,url:x},t.kg.lk.vU.Ap),console.error(t.vU.dv.Dl.z),i(null)}))}catch(n){F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.lk.vU.Gv,userAgent:U,url:x},t.kg.lk.vU.Gv),console.error(t.vU.dv.Dl.z),i(null)}}))]}}))}))},n.prototype.initApplePay=function(n){return Me(this,void 0,void 0,(function(){var r,o=this;return ke(this,(function(i){switch(i.label){case 0:return n?window.ApplePaySession&&window.ApplePaySession.canMakePayments()?[4,this._apiService.ApplePayMerchantInfo({TerminalKey:this._terminalKey}).then((function(e){return e.MerchantInfo.find((function(e){return e.RegistrationType===d.MassEnabled}))})).catch((function(){return F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.W3.vU.cN,terminalKey:o._terminalKey,userAgent:U,url:x},t.kg.W3.vU.cN),null}))]:(F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.W3.ro,userAgent:U,url:x},t.kg.W3.ro),console.info(t.um._w.h),[2,null]):[2,null];case 1:return(r=i.sent())&&r.MerchantId&&r.MerchantName?[4,window.ApplePaySession.canMakePaymentsWithActiveCard(r.MerchantId)]:(F.log(e.FmsLogLevelEnum.INFO,{title:"Нет информации об Apple Pay для сайта"}),console.error(t.vU._w.um),[2,null]);case 2:return i.sent()?(n.merchantInfo=r,[2,new ae(n)]):(F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.W3.AA,userAgent:U,url:x},t.kg.W3.AA),console.info(t.um._w.I),[2,null])}}))}))},n.prototype.initTinkoffPay=function(){return Me(this,void 0,void 0,(function(){var n,r,o,i;return ke(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this._apiService.getTinkoffPayTerminalStatus(this._terminalKey)];case 1:return o=a.sent(),n=o.Allowed,r=o.Version,[3,3];case 2:return i=a.sent(),console.error(t.kg.Bi.vU.i7),console.error(i),F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.Bi.vU.i7,error:i},t.kg.Bi.vU.i7),[2,null];case 3:return n?[2,new Ee(r)]:(console.error(t.kg.Bi.vU.cI),[2,null])}}))}))},n.prototype._processPaymentInfo=function(e){return e.paymentData=e.paymentData instanceof HTMLFormElement?Re(e.paymentData):Le(e.paymentData),e.paymentData&&(e.paymentData.TerminalKey=this._terminalKey),e},n.prototype._getPaymentInfoFn=function(e){var t=this;if(!e)return null;if("function"!=typeof e){var n=this._processPaymentInfo(e);return function(){return n}}return function(){return t._processPaymentInfo(e())}},n.prototype.createPayment=function(n){this._apiService.init(n).then((function(r){var o=r.PaymentURL;!n.Frame||re?(F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.HK,userAgent:U,url:x},t.kg.HK),Y(o)):(F.log(e.FmsLogLevelEnum.INFO,{title:t.kg.Z8,userAgent:U,url:x},t.kg.Z8),G(o),j())})).catch((function(n){F.log(e.FmsLogLevelEnum.ERROR,{title:t.kg.vU.c6,error:n},t.kg.vU.c6),j(),alert(t.vU.y0.p+" "+t.vU.y0.XK+JSON.stringify(n))}))},n.prototype.addTinkoffFpsScript=function(e){var t=this;M("".concat(g.HOST_URL,"/fpsWidget/fpsButton.js"),(function(){return window.TinkoffFpsButton.initTinkoffFps(e)}),(function(n){setTimeout((function(){return t.addTinkoffFpsScript(e)}),1e3)}))},n}();window.TinkoffWidget?F.log(e.FmsLogLevelEnum.INFO,{title:"Повторная инициализация виджета",userAgent:U,url:x},"Повторная инициализация виджета"):window.TinkoffWidget=new Ue})();var o=self;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();